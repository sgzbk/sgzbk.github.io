<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>主力资金进场副图</title>
    <url>/posts/61587/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E4%B8%BB%E5%8A%9B%E8%B5%84%E9%87%91%E8%BF%9B%E5%9C%BA-1.png"> </p>
<p>副图公式，有主力进，资金进场，拉升减仓等信号，黄色方块出现可关注，红色柱子出现是机会，看图。</p>
<span id="more"></span>
<p><mark><strong>源码</strong></mark></p>
<p><font color=b14e53>VAR5:&#x3D;LLV(LOW,120);<br>VAR6:&#x3D;HHV(HIGH,120);<br>VAR7:&#x3D;(VAR6-VAR5)&#x2F;100;<br>VAR8:&#x3D;SMA((CLOSE-VAR5)&#x2F;VAR7,20,1);<br>VARA:&#x3D;3<em>VAR8-2</em>SMA(VAR8,10,1);<br>主力仓位: (100-VARA),COLORYELLOW,LINETHICK1;<br>V1:&#x3D;(C<em>2+H+L)&#x2F;4</em>10;<br>V2:&#x3D;EMA(V1,13)-EMA(V1,34);<br>V3:&#x3D;EMA(V2,5);<br>V4:&#x3D;2*(V2-V3)<em>5.5;<br>V5:&#x3D;(HHV(INDEXH,8)-INDEXC)&#x2F;(HHV(INDEXH,8)-LLV(INDEXL,8))<em>8;<br>V6:&#x3D;EMA(3</em>V5-2</em>SMA(V5,18,1),5);<br>V7:&#x3D;(INDEXC-LLV(INDEXL,8))&#x2F;(HHV(INDEXH,8)-LLV(INDEXL,8))<em>10;<br>V8:&#x3D;(INDEXC</em>2+INDEXH+INDEXL)&#x2F;4;<br>V9:&#x3D;EMA(V8,13)-EMA(V8,34);<br>VA:&#x3D;EMA(V9,3);<br>VB:&#x3D;(V9-VA)&#x2F;2;<br>V11:&#x3D;3*SMA((C-LLV(L,55))&#x2F;(HHV(H,55)-LLV(L,55))<em>100,5,1)-2</em>SMA(SMA((C-LLV(L,55))&#x2F;(HHV(H,55)-LLV(L,55))<em>100,5,1),3,1);<br>V12:&#x3D;(EMA(V11,3)-REF(EMA(V11,3),1))&#x2F;REF(EMA(V11,3),1)<em>100;<br>AA:&#x3D;(EMA(V11,3)&lt;&#x3D;13) AND FILTER((EMA(V11,3)&lt;&#x3D;13),15);<br>买入股票:&#x3D; STICKLINE(EMA(V11,3)&lt;&#x3D;13 AND V12&gt;13,0,30,5,0),COLORLIMAGENTA;<br>BB:&#x3D; (EMA(V11,3)&lt;&#x3D;13 AND V12&gt;13) AND FILTER((EMA(V11,3)&lt;&#x3D;13 AND V12&gt;13),10);<br>DRAWTEXT (BB,35,’主力进’),COLORYELLOW;<br>CC:&#x3D;(EMA(V11,3)&gt;&#x3D;90 AND V12) AND FILTER((EMA(V11,3)&gt;&#x3D;90 AND V12),10);<br>DD:&#x3D;(EMA(V11,3)&gt;&#x3D;120 AND V12) AND FILTER((EMA(V11,3)&gt;&#x3D;120 AND V12),10);<br>STICKLINE(IF(VB&gt;&#x3D;0,VB,0) AND EMA(V11,3)&lt;13,0,20,10,0),COLORYELLOW;<br>STICKLINE(IF(VB&lt;&#x3D;0,VB,0) AND EMA(V11,3)&gt;90,0,20,10,0),COLORGREEN;<br>STICKLINE( IF(V4&gt;&#x3D;0,V4,1) AND EMA(V11,3)&lt;13,0,20,10,0),COLORYELLOW;<br>STICKLINE(IF(V4&lt;&#x3D;0,V4,1) AND EMA(V11,3)&gt;90,0,20,10,0),COLORLIBLUE;<br>DRAWTEXT (CC,33,’拉升减仓’),COLORLIBLUE;<br>DRAWTEXT_FIX(C&gt;O,0.01,0.9,0,’SGZBK.TOP’),COLORYELLOW;<br>VARE:&#x3D;MA(100</em>(CLOSE-LLV(CLOSE,34))&#x2F;(HHV(HIGH,34)-LLV(LOW,34)),5)-20;<br>VARF:&#x3D;100-3</em>SMA((CLOSE-LLV(LOW,75))&#x2F;(HHV(HIGH,75)-LLV(LOW,75))<em>100,20,1)+2</em>SMA(SMA((CLOSE-LLV(LOW,75))&#x2F;(HHV(HIGH,75)-LLV(LOW,75))<em>100,20,1),15,1);<br>VAR10:&#x3D;100-3</em>SMA((CLOSE-LLV(LOW,75))&#x2F;(HHV(HIGH,75)-LLV(LOW,75))<em>100,20,1)+2</em>SMA(SMA((CLOSE-LLV(LOW,75))&#x2F;(HHV(HIGH,75)-LLV(LOW,75))<em>100,20,1),15,1);<br>VAR11:&#x3D;100-3</em>SMA((OPEN-LLV(LOW,75))&#x2F;(HHV(HIGH,75)-LLV(LOW,75))<em>100,20,1)+2</em>SMA(SMA((OPEN-LLV(LOW,75))&#x2F;(HHV(HIGH,75)-LLV(LOW,75))*100,20,1),15,1);<br>VAR12:&#x3D;VAR10&lt;REF(VAR11,1) AND VOL&gt;REF(VOL,1) AND CLOSE&gt;REF(CLOSE,1);<br>DRAWTEXT(VAR12 AND COUNT(VAR12,30)&#x3D;1,70,’-资金进场’),LINETHICK1,COLORLIMAGENTA;<br>STICKLINE(VAR12 AND COUNT(VAR12,30)&#x3D;1,1,60,5,0),COLORRED,LINETHICK7;<br>T2:&#x3D;VAR12;<br>T3:&#x3D;VAR12 AND COUNT(VAR12,30)&#x3D;1,1,60,5,0;<br>资金进场:IF(T3&gt;REF(T2,1),60,0),COLORRED,LINETHICK1;<br>LC:&#x3D;REF(CLOSE,1);<br>RSI1:&#x3D;SMA(MAX(CLOSE-LC,0),6,1)&#x2F;SMA(ABS(CLOSE-LC),6,1)*100;<br>AR:&#x3D;SUM(HIGH-OPEN,26)&#x2F;SUM(OPEN-LOW,26)*100;<br>RSI:&#x3D;SMA(MAX(CLOSE-LC,0),6,1)&#x2F;SMA(ABS(CLOSE-LC),6,1)*100;<br>买点:IF(CROSS(RSI,11),70,0),COLORWHITE,POINTDOT;<br>DRAWTEXT(CROSS(RSI,11),80,’买点’),COLORRED;<br>STICKLINE(买点,66,70,3,0),COLORWHITE;</font>  </p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E4%B8%BB%E5%8A%9B%E8%B5%84%E9%87%91%E8%BF%9B%E5%9C%BA-2.png"> </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark> </p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图</tag>
      </tags>
  </entry>
  <entry>
    <title>SAR主图公式</title>
    <url>/posts/26582/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/SAR%E4%B8%BB%E5%9B%BE-1.png">  </p>
<p>此为通达信公式，以后在博客里发布的都是通达信公式，不再一一说明。今天分享一个主图公式，详情看图，简单明了，红色线上持股。  </p>
<span id="more"></span>
<p><strong><mark>源码：</mark></strong>  </p>
<p><font color=e09fde>IF(C&gt;&#x3D;SAR(4,2,20),SAR(4,2,20),DRAWNULL),CIRCLEDOT,COLORRED;<br>IF(C&lt;SAR(4,2,20),SAR(4,2,20),DRAWNULL),CIRCLEDOT,COLORGREEN;<br>IF(C&lt;SAR(4,2,20),SAR(4,2,20),DRAWNULL),CIRCLEDOT,COLORGREEN;<br>IF(C&lt;SAR(4,2,20),SAR(4,2,20),DRAWNULL),CIRCLEDOT,COLORGREEN;<br>IF(C&lt;SAR(4,2,20),SAR(4,2,20),DRAWNULL),CIRCLEDOT,COLORGREEN;<br>DRAWTEXT_FIX(C&gt;O,0.01,1,0,’SGZBK.TOP’),COLORYELLOW;</font>  </p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/SAR%E4%B8%BB%E5%9B%BE-2.png">  </p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>主图</tag>
      </tags>
  </entry>
  <entry>
    <title>买卖参考副图和选股</title>
    <url>/posts/64371/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E4%B9%B0%E5%8D%96%E5%8F%82%E8%80%83-1.png">  </p>
<p>此公式包含副图和选股，看图。<br> <span id="more"></span></p>
<p><mark><strong>源码：</strong></mark>  </p>
<p><strong>副图</strong>  </p>
<p><font color=#e97040>V1:&#x3D;(C<em>2+H+L)&#x2F;4</em>10;<br>V2:&#x3D;EMA(V1,13)-EMA(V1,34);<br>V3:&#x3D;EMA(V2,5); V4:&#x3D;2*(V2-V3)<em>5.5;<br>主力撤: IF(V4&lt;&#x3D;0,V4,0),COLORGREEN;<br>主力进: IF(V4&gt;&#x3D;0,V4,0);<br>V5:&#x3D;(HHV(INDEXH,8)-INDEXC)&#x2F;(HHV(INDEXH,8)-LLV(INDEXL,8))<em>8;<br>DRAWTEXT_FIX(C&gt;O,0.01,1,0,’SGZBK.TOP’),COLORYELLOW;<br>V6:&#x3D;EMA(3</em>V5-2</em>SMA(V5,18,1),5);<br>V7:&#x3D;(INDEXC-LLV(INDEXL,8))&#x2F;(HHV(INDEXH,8)-LLV(INDEXL,8))<em>10;<br>V8:&#x3D;(INDEXC</em>2+INDEXH+INDEXL)&#x2F;4;<br>V9:&#x3D;EMA(V8,13)-EMA(V8,34);<br>VA:&#x3D;EMA(V9,3);<br>VB:&#x3D;(V9-VA)&#x2F;2;<br>大盘资金进场:<br>IF(VB&gt;&#x3D;0,VB,0),COLORYELLOW;<br>大盘资金撤走:<br>IF(VB&lt;&#x3D;0,VB,0),COLORRED;<br>TJ1:&#x3D;3*SMA((C-LLV(L,55))&#x2F;(HHV(H,55)-LLV(L,55))*100,5,1)-2*SMA(SMA((C-LLV(L,55))&#x2F;(HHV(H,55)-LLV(L,55))*100,5,1),3,1);<br>趋势线: EMA(TJ1,3);<br>TJ2:&#x3D;(趋势线-REF(趋势线,1))&#x2F;REF(趋势线,1)*100;<br>等待机会: STICKLINE(趋势线&lt;&#x3D;13,0,20,2,0),COLORCC9900;<br>AA:&#x3D;(趋势线&lt;&#x3D;13) AND FILTER((趋势线&lt;&#x3D;13),15);<br>DRAWTEXT (AA,30,’等待机会’),COLORCC9900;<br>主力买入: STICKLINE(趋势线&lt;&#x3D;13 AND TJ2&gt;13,0,50,2,0),COLOR0099FF;<br>BB:&#x3D; (趋势线&lt;&#x3D;13 AND TJ2&gt;13) AND FILTER((趋势线&lt;&#x3D;13 AND TJ2&gt;13),10) ;<br>DRAWTEXT (BB,60,’主力买入’),COLOR0099FF;<br>见顶清仓: STICKLINE(趋势线&gt;&#x3D;90 AND TJ2,0,30,5,0),COLORRED;<br>CC:&#x3D;(趋势线&gt;&#x3D;90 AND TJ2) AND FILTER((趋势线&gt;&#x3D;90 AND TJ2),10);</font>  </p>
<p><strong>选股1：（等待机会）</strong><br><font color=f4e338>TJ1:&#x3D;3*SMA((C-LLV(L,55))&#x2F;(HHV(H,55)-LLV(L,55))<em>100,5,1)-2</em>SMA(SMA((C-LLV(L,55))&#x2F;(HHV(H,55)-LLV(L,55))*100,5,1),3,1);<br>TJ2:&#x3D; EMA(TJ1,3);<br>等待机会:(TJ2&lt;&#x3D;13) AND FILTER((TJ2&lt;&#x3D;13),15);</font>  </p>
<p><strong>选股2：（主力买入）</strong><br><font color=f4e338>TJ1:&#x3D;3*SMA((C-LLV(L,55))&#x2F;(HHV(H,55)-LLV(L,55))<em>100,5,1)-2</em>SMA(SMA((C-LLV(L,55))&#x2F;(HHV(H,55)-LLV(L,55))*100,5,1),3,1);<br>TJ:&#x3D;EMA(TJ1,3);<br>TJ2:&#x3D;(TJ-REF(TJ,1))&#x2F;REF(TJ,1)*100;<br>主力买入:(TJ&lt;&#x3D;13 AND TJ2&gt;13) AND FILTER((TJ&lt;&#x3D;13 AND TJ2&gt;13),10) ;</font></p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E4%B9%B0%E5%8D%96%E5%8F%82%E8%80%83-2.png">  </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark>  </p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>六脉神剑</title>
    <url>/posts/14045/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E5%85%AD%E8%84%89%E7%A5%9E%E5%89%91-1.png"> </p>
<p>抖音上这个指标突然火了起来，其实原理很简单，就是利用指标共振，比如MACD金叉，KDJ金叉，RSI金叉，BBI金叉等，现奉献给大家。<br>  <span id="more"></span></p>
<p><font color=red><strong>源码:</strong></font>  </p>
<figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">DIFF:=<span class="built_in">EMA</span>(CLOSE,<span class="number">12</span>)<span class="built_in">-EMA</span>(CLOSE,<span class="number">26</span>);</span><br><span class="line">DEA:=<span class="built_in">EMA</span>(DIFF,<span class="number">9</span>);</span><br><span class="line"><span class="built_in">DRAWICON</span>(DIFF&gt;DEA,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">DRAWICON</span>(DIFF&lt;DEA,<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">MACD金叉:=DIFF&gt;DEA;</span><br><span class="line"><span class="built_in">DRAWTEXT</span>(ISLASTBAR=<span class="number">1</span>,<span class="number">5.9</span>,&#x27;.MACD&#x27;),COLORFFFFFF;</span><br><span class="line">RSV:=(<span class="built_in">CLOSE-LLV</span>(LOW,<span class="number">12</span>))/(<span class="built_in">HHV</span>(HIGH,<span class="number">12</span>)<span class="built_in">-LLV</span>(LOW,<span class="number">12</span>))*<span class="number">100</span>;</span><br><span class="line">K:=<span class="built_in">SMA</span>(RSV,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">D:=<span class="built_in">SMA</span>(K,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">DRAWICON</span>(K&gt;D,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">DRAWICON</span>(K&lt;D,<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line">KDJ金叉:=K&gt;D;</span><br><span class="line"><span class="built_in">DRAWTEXT</span>(ISLASTBAR=<span class="number">1</span>,<span class="number">4.9</span>,&#x27;.KDJ&#x27;),COLORFFFFFF;</span><br><span class="line">LC:=<span class="built_in">REF</span>(CLOSE,<span class="number">1</span>);</span><br><span class="line">RSI1:=(<span class="built_in">SMA</span>(<span class="built_in">MAX</span>(CLOSE-LC,<span class="number">0</span>),<span class="number">9</span>,<span class="number">1</span>))/(<span class="built_in">SMA</span>(<span class="built_in">ABS</span>(CLOSE-LC),<span class="number">9</span>,<span class="number">1</span>))*<span class="number">100</span>;</span><br><span class="line">RSI2:=(<span class="built_in">SMA</span>(<span class="built_in">MAX</span>(CLOSE-LC,<span class="number">0</span>),<span class="number">26</span>,<span class="number">1</span>))/(<span class="built_in">SMA</span>(<span class="built_in">ABS</span>(CLOSE-LC),<span class="number">26</span>,<span class="number">1</span>))*<span class="number">100</span>;</span><br><span class="line"><span class="built_in">DRAWICON</span>(RSI1&gt;RSI2,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">DRAWICON</span>(RSI1&lt;RSI2,<span class="number">3</span>,<span class="number">2</span>);</span><br><span class="line">RSI金叉:=RSI1&gt;RSI2;</span><br><span class="line"><span class="built_in">DRAWTEXT</span>(ISLASTBAR=<span class="number">1</span>,<span class="number">3.9</span>,&#x27;.RSI&#x27;),COLORFFFFFF;</span><br><span class="line">LWR1:=<span class="built_in">SMA</span>(RSV,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">LWR2:=<span class="built_in">SMA</span>(LWR1,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">DRAWICON</span>(LWR1&gt;LWR2,<span class="number">4</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">DRAWICON</span>(LWR1&lt;LWR2,<span class="number">4</span>,<span class="number">2</span>);</span><br><span class="line">LWR金叉:=LWR1&gt;LWR2;</span><br><span class="line"><span class="built_in">DRAWTEXT</span>(ISLASTBAR=<span class="number">1</span>,<span class="number">2.9</span>,&#x27;.LWR&#x27;),COLORFFFFFF;</span><br><span class="line">BBI:=(<span class="built_in">MA</span>(CLOSE,<span class="number">3</span>)+<span class="built_in">MA</span>(CLOSE,<span class="number">9</span>)+<span class="built_in">MA</span>(CLOSE,<span class="number">12</span>)+<span class="built_in">MA</span>(CLOSE,<span class="number">26</span>))/<span class="number">4</span>;</span><br><span class="line"><span class="built_in">DRAWICON</span>(CLOSE&gt;BBI,<span class="number">5</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">DRAWICON</span>(CLOSE&lt;BBI,<span class="number">5</span>,<span class="number">2</span>);</span><br><span class="line">BBI金叉:=CLOSE&gt;BBI;</span><br><span class="line"><span class="built_in">DRAWTEXT</span>(ISLASTBAR=<span class="number">1</span>,<span class="number">1.9</span>,&#x27;.BBI&#x27;),COLORFFFFFF;</span><br><span class="line">MTM:=<span class="built_in">CLOSE-REF</span>(CLOSE,<span class="number">1</span>);</span><br><span class="line">MT:=<span class="number">100</span>*<span class="built_in">EMA</span>(<span class="built_in">EMA</span>(MTM,<span class="number">9</span>),<span class="number">9</span>)/<span class="built_in">EMA</span>(<span class="built_in">EMA</span>(<span class="built_in">ABS</span>(MTM),<span class="number">9</span>),<span class="number">3</span>);</span><br><span class="line">TM:=<span class="number">100</span>*<span class="built_in">EMA</span>(<span class="built_in">EMA</span>(MTM,<span class="number">26</span>),<span class="number">12</span>)/<span class="built_in">EMA</span>(<span class="built_in">EMA</span>(<span class="built_in">ABS</span>(MTM),<span class="number">26</span>),<span class="number">12</span>);</span><br><span class="line"><span class="built_in">DRAWICON</span>(MT&gt;TM,<span class="number">6</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">DRAWICON</span>(MT&lt;TM,<span class="number">6</span>,<span class="number">2</span>);</span><br><span class="line">MTM金叉:=MT&gt;TM;</span><br><span class="line"><span class="built_in">DRAWTEXT</span>(ISLASTBAR=<span class="number">1</span>,<span class="number">0.9</span>,&#x27;.MTM&#x27;),COLORFFFFFF;</span><br><span class="line">六脉神剑:MACD金叉 AND KDJ金叉 AND RSI金叉 AND LWR金叉 AND BBI金叉 AND MTM金叉,COLORYELLOW,LINETHICK2;  </span><br></pre></td></tr></table></figure>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E5%85%AD%E8%84%89%E7%A5%9E%E5%89%91-2.png"> </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图</tag>
      </tags>
  </entry>
  <entry>
    <title>天天满仓</title>
    <url>/posts/13096/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E5%A4%A9%E5%A4%A9%E6%BB%A1%E4%BB%93-1.png"> </p>
<p>副图和选股公式,信号比较多，出现紫色柱为上车信号，请与其他指标印证使用。</p>
<span id="more"></span>
<p><mark><strong>源码：</strong></mark></p>
<p><font color=b14e53>TJ1:&#x3D;EMA(((CLOSE-LLV(LOW,25))&#x2F;(HHV(HIGH,25)-LLV(LOW,25)))*100,5);<br>TJ2:&#x3D;(HHV(HIGH,25)-LLV(LOW,25))&#x2F;(EMA(CLOSE-LLV(LOW,25),5));<br>TJ3:&#x3D;CROSS(TJ2,TJ1);<br>TJ4:&#x3D;REF(TJ2,2);<br>TJ5:&#x3D;(COUNT(TJ3,7)&gt;0) AND TJ4;<br>底部满仓 :&#x3D;TJ5 AND (COUNT(TJ5,5)&#x3D;1);<br>DRAWTEXT_FIX(C&gt;O,0.01,0.9,0,’SGZBK.TOP’),COLORYELLOW;<br>CL1:&#x3D;REF(CLOSE,1);<br>CL2:&#x3D;SUM(VOL,2)&#x2F;((HHV(HIGH,2)-LLV(LOW,2))*100);<br>CL3:&#x3D;(CLOSE-CL1)*CL2;<br>CL4:&#x3D;SUM(CL3,0);<br>CL5:&#x3D;SMA(CL4,7,1);<br>CL6:&#x3D;SMA(CL4,89,1);<br>CL:&#x3D;CL5-CL6;<br>MA1:&#x3D;MA(CL,5);<br>天天满仓:&#x3D;(底部满仓 AND (MA1&lt;0));<br>DRAWTEXT(天天满仓,0.85,140),COLORMAGENTA;<br>DRAWBAND(天天满仓,RGB(255,0,255),0,RGB(0,0,0));</font> </p>
<p><mark><strong>选股：</strong></mark>  </p>
<p><font color=df7251>TJ1:&#x3D;EMA(((CLOSE-LLV(LOW,25))&#x2F;(HHV(HIGH,25)-LLV(LOW,25)))*100,5);<br>TJ2:&#x3D;(HHV(HIGH,25)-LLV(LOW,25))&#x2F;(EMA(CLOSE-LLV(LOW,25),5));<br>TJ3:&#x3D;CROSS(TJ2,TJ1);<br>TJ4:&#x3D;REF(TJ2,2);<br>TJ5:&#x3D;(COUNT(TJ3,7)&gt;0) AND TJ4;<br>底部满仓 :&#x3D;TJ5 AND (COUNT(TJ5,5)&#x3D;1);<br>CL1:&#x3D;REF(CLOSE,1);<br>CL2:&#x3D;SUM(VOL,2)&#x2F;((HHV(HIGH,2)-LLV(LOW,2))*100);<br>CL3:&#x3D;(CLOSE-CL1)*CL2;<br>CL4:&#x3D;SUM(CL3,0);<br>CL5:&#x3D;SMA(CL4,7,1);<br>CL6:&#x3D;SMA(CL4,89,1);<br>CL:&#x3D;CL5-CL6;<br>MA1:&#x3D;MA(CL,5);<br>天天满仓:底部满仓 AND (MA1&lt;0);</font> </p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E5%A4%A9%E5%A4%A9%E6%BB%A1%E4%BB%93-2.png">  </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>启爆副图和选股</title>
    <url>/posts/62767/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E5%90%AF%E7%88%86-1.png"> </p>
<p>分享一个抓板指标，此指标适用于早盘，在9：30前选出，开盘后涨停不一定能买进了。经过测评，胜率还不错，此次测评以10%为条件，即获利或亏损10%都平仓走人，有兴趣自己测评一下。</p>
<span id="more"></span>

<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E5%90%AF%E7%88%86%E8%AF%84%E6%B5%8B-1.png">  </p>
<p><mark><strong>源码:</strong></mark>(副图和选股) </p>
<p><font color=b14e53>Q1:&#x3D;CLOSE<em>VOL;<br>Q2:&#x3D;EMA((EXPMA(Q1,27)&#x2F;EXPMA(VOL,27)+EXPMA(Q1,54)&#x2F;EXPMA(VOL,54)+EXPMA(Q1,108)&#x2F;EXPMA(VOL,108)+EXPMA(Q1,316)&#x2F;EXPMA(VOL,316))&#x2F;4,34);<br>W1:&#x3D;1.06</em>Q2;<br>W2:&#x3D;Q2*0.94;<br>Q3:&#x3D;REF(C,1)*1.1-C&lt;0.01 AND H&#x3D;C;<br>启爆:CROSS(C,W1) OR CROSS(C,W2) AND Q3;</font> </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>大单异动副图</title>
    <url>/posts/19012/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E5%A4%A7%E5%8D%95%E5%BC%82%E5%8A%A8-1.png">  </p>
<p>简单明了，有信号提示。  </p>
<span id="more"></span>
<p><mark><strong>源码：</strong></mark>  </p>
<p><font color=e09fde>TJ1:&#x3D;IF((CLOSE&gt;REF(CLOSE,1)),88,0);<br>TJ2:&#x3D;IF(((CLOSE)&#x2F;(REF(CLOSE,1))&gt;1.05) AND ((HIGH)&#x2F;(CLOSE)&lt;1.01) AND (TJ1&gt;0),91,0);<br>XG:&#x3D;(FILTER((TJ2&gt;90),45)),COLORYELLOW;<br>STICKLINE(XG,90,0,3,0),COLORRED;<br>STICKLINE(XG,90,0,2,0),COLORYELLOW;<br>STICKLINE(XG,50,0,1,0),COLORMAGENTA;<br>DRAWTEXT_FIX(C&gt;O,0.01,0.9,0,’SGZBK.TOP’),COLORYELLOW;<br>DRAWTEXT(XG,50,’大单异动’),COLORYELLOW;</font>   </p>
<p>作了选股公式如下：</p>
<p>T<font color=ee781f>J1:&#x3D;IF((CLOSE&gt;REF(CLOSE,1)),88,0);<br>TJ2:&#x3D;IF(((CLOSE)&#x2F;(REF(CLOSE,1))&gt;1.05) AND ((HIGH)&#x2F;(CLOSE)&lt;1.01) AND (TJ1&gt;0),91,0);<br>XG:(FILTER((TJ2&gt;90),45));</font></p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E5%A4%A7%E5%8D%95%E5%BC%82%E5%8A%A8-2.png">  </p>
<p><mark>指标仅供参考，不做投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>尾盘量化选股指标公式</title>
    <url>/posts/14135/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E5%B0%BE%E7%9B%98%E9%87%8F%E5%8C%96-1.png">  </p>
<p>此公式用于尾盘选股，对市值做了限制，去掉了ST股，信号比较多，请与其它指标印证使用。  </p>
<span id="more"></span>
<p><mark><strong>源码：</strong></mark> </p>
<figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">流通小于亿:=<span class="number">100</span>;</span><br><span class="line">流通大于亿:=<span class="number">50</span>;</span><br><span class="line">箱体空间:=<span class="number">18</span>;</span><br><span class="line">TJ1:=(<span class="built_in">O-REF</span>(C,<span class="number">1</span>))/<span class="built_in">REF</span>(C,<span class="number">1</span>)*<span class="number">100</span>&lt;<span class="number">3</span>;</span><br><span class="line">TJ2:=(<span class="built_in">C-REF</span>(C,<span class="number">1</span>))/<span class="built_in">REF</span>(C,<span class="number">1</span>)*<span class="number">100</span>&lt;<span class="number">5</span>;</span><br><span class="line">TJ3:=(<span class="built_in">C-REF</span>(C,<span class="number">1</span>))/<span class="built_in">REF</span>(C,<span class="number">1</span>)*<span class="number">100</span>&gt;<span class="number">2</span>;</span><br><span class="line">TJ4:=(<span class="built_in">REF</span>(C,<span class="number">1</span>)<span class="built_in">-REF</span>(C,<span class="number">2</span>))/<span class="built_in">REF</span>(C,<span class="number">2</span>)*<span class="number">100</span>&lt;<span class="number">5</span>;</span><br><span class="line">TJ5:=(<span class="built_in">C-REF</span>(C,<span class="number">29</span>))/<span class="built_in">REF</span>(C,<span class="number">29</span>)*<span class="number">100</span>&lt;<span class="number">55</span>;</span><br><span class="line">TJ6:=(H-C)/<span class="built_in">REF</span>(C,<span class="number">1</span>)*<span class="number">100</span>&lt;<span class="number">4.3</span>;</span><br><span class="line">VOLUME:=VOL;</span><br><span class="line">MAVOL1:=<span class="built_in">MA</span>(VOLUME,<span class="number">120</span>);</span><br><span class="line">LH1:=VOL&gt;MAVOL1*<span class="number">1.2</span>;</span><br><span class="line">LH2:=<span class="built_in">FINANCE</span>(<span class="number">40</span>)&lt;流通小于亿*<span class="number">100000000</span>;</span><br><span class="line">LH3:=<span class="built_in">FINANCE</span>(<span class="number">40</span>)&gt;流通大于亿*<span class="number">100000000</span>;</span><br><span class="line"><span class="built_in">DRAWTEXT_FIX</span>(C&gt;O,<span class="number">0.01</span>,<span class="number">0.9</span>,<span class="number">0</span>,&#x27;SGZBK.TOP&#x27;),COLORYELLOW;</span><br><span class="line">去ST:=<span class="built_in">NOT</span>(<span class="built_in">NAMELIKE</span>(<span class="string">&#x27;ST&#x27;</span>) OR <span class="built_in">NAMELIKE</span>(<span class="string">&#x27;*ST&#x27;</span>) OR <span class="built_in">NAMELIKE</span>(<span class="string">&#x27;S&#x27;</span>));</span><br><span class="line">LH4:=(<span class="built_in">REF</span>(<span class="built_in">HHV</span>(C,<span class="number">12</span>),<span class="number">1</span>)<span class="built_in">-REF</span>(<span class="built_in">LLV</span>(C,<span class="number">12</span>),<span class="number">1</span>))/<span class="built_in">REF</span>(<span class="built_in">LLV</span>(C,<span class="number">12</span>),<span class="number">1</span>)*<span class="number">100</span>&lt;箱体空间;</span><br><span class="line">XG:TJ1 AND TJ2 AND TJ3 AND TJ4 AND TJ5 AND TJ6 AND LH1 AND LH2 AND LH3 AND LH4 AND 去ST AND <span class="number">0.35</span>&gt;<span class="built_in">DYNAINFO</span>(<span class="number">37</span>) AND <span class="built_in">DYNAINFO</span>(<span class="number">37</span>)&gt;<span class="number">0.04</span>;  </span><br></pre></td></tr></table></figure>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E5%B0%BE%E7%9B%98%E9%87%8F%E5%8C%96-2.png"> </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>选股</tag>
      </tags>
  </entry>
  <entry>
    <title>智能系统主图</title>
    <url>/posts/46498/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E6%99%BA%E8%83%BD%E7%B3%BB%E7%BB%9F%E4%B8%BB%E5%9B%BE-1.png">  </p>
<p>这是一个主图公式，图上标注了出击，绝佳买点，关注，逃等信号，信号比较多，谨慎使用，可以作为一个参考指标。</p>
<span id="more"></span>  

<p><mark><strong>源码：</strong></mark> </p>
<p><font color=b14e53>MA20:&#x3D;MA(C,20);<br>AA10:&#x3D;MA(C,8),COLOR0000FF;<br>中期大底:LLV(L,30),COLORCDFFBB;<br>支撑:&#x3D;HHV(EMA(((((O+L)+H)+C)&#x2F;4),5),60);<br>压力一:HHV(L,20),COLORFAABEC;<br>中线:&#x3D;MA(C,3);<br>DRAWTEXT(FILTER(((((H&gt;支撑) AND (C&lt;支撑)) AND ((C&#x2F;O)&gt;(0-1.06))) AND (C&lt;O)),5),(H+0.02),’←逃’),COLOR00FFFF;<br>天:&#x3D;(MA(L,15)*0.985);<br>人:&#x3D;(MA(L,15)*0.96);<br>地:&#x3D;(((H+L)+C)&#x2F;3);<br>B1:&#x3D;HHV(地,(4*15));<br>B6:&#x3D;LLV(地,(4*15));<br>B7:&#x3D;(B1-B6);<br>B8:&#x3D;(MA(((地-B6)&#x2F;B7),2)*80);<br>短期底部:(LLV(H,30)*0.93),COLOR0000FF;<br>MA80:&#x3D;LLV(H,30);<br>压力二:&#x3D;(SMA(H,21,2)*1.035);<br>下档线:&#x3D;(((C-LLV(L,13))&#x2F;(HHV(H,13)-LLV(L,13)))*100);<br>RSV:&#x3D;SMA(下档线,3,1);<br>K:&#x3D;SMA(RSV,3,1);<br>D:&#x3D;((3*RSV)-(2*K));<br>J12:&#x3D;(((C-LLV(L,55))&#x2F;(HHV(H,55)-LLV(L,55)))*100);<br>K24:&#x3D;SMA(SMA(J12,3,1),3,1);<br>D24:&#x3D;((3*SMA(J12,3,1))-(2*K24));<br>压力位:IF(CROSS(D24,D),H,L),POINTDOT,COLORFFFFFF;<br>长期底部:LLV(H,30),COLOR00FF00;<br>X1:&#x3D;EMA((((((3*C)+H)+L)+O)&#x2F;6),10);<br>逃遁:&#x3D;(SMA(H,21,2) * 1.05);<br>STICKLINE((O&gt;&#x3D;C),C,O,3.3,0),COLORFF5500;<br>STICKLINE((O&gt;&#x3D;C),C,O,2.8,0),COLORFF8800;<br>STICKLINE((O&gt;&#x3D;C),C,O,2.1,0),COLORFFAA00;<br>STICKLINE((O&gt;&#x3D;C),C,O,1.3,0),COLORFFCC00;<br>STICKLINE((O&gt;&#x3D;C),H,L,0.4,0),COLORFFFF00;<br>STICKLINE((C&gt;&#x3D;O),C,O,3.3,0),COLOR000077;<br>STICKLINE((C&gt;&#x3D;O),C,O,2.8,0),COLOR000099;<br>STICKLINE((C&gt;&#x3D;O),C,O,2.1,0),COLOR0000AA;<br>STICKLINE((C&gt;&#x3D;O),C,O,1.3,0),COLOR0000CC;<br>STICKLINE((C&gt;&#x3D;O),H,L,0.4,0),COLOR0000FF;<br>STICKLINE(((((C&#x2F;O)&gt;1.04) AND (C&lt;逃遁)) AND ((C-REF(C,1))&gt;0)),C,O,3.3,0),COLOR0077FF;<br>STICKLINE(((((C&#x2F;O)&gt;1.04) AND (C&lt;逃遁)) AND ((C-REF(C,1))&gt;0)),C,O,2.8,0),COLOR0099FF;<br>STICKLINE(((((C&#x2F;O)&gt;1.04) AND (C&lt;逃遁)) AND ((C-REF(C,1))&gt;0)),C,O,2.1,0),COLOR00AAFF;<br>STICKLINE(((((C&#x2F;O)&gt;1.04) AND (C&lt;逃遁)) AND ((C-REF(C,1))&gt;0)),C,O,1.3,0),COLOR00CCFF;<br>STICKLINE(((((C&#x2F;O)&gt;1.04) AND (C&lt;逃遁)) AND ((C-REF(C,1))&gt;0)),H,L,0.4,0),COLOR00FFFF;<br>STICKLINE(((((C&lt;REF(C,1)) AND (C&lt;REF(C,1))) AND (H&gt;逃遁)) AND (C&lt;逃遁)),C,O,3.3,0),COLOR9933FF;<br>STICKLINE(((((C&lt;REF(C,1)) AND (C&lt;REF(C,1))) AND (H&gt;逃遁)) AND (C&lt;逃遁)),C,O,2.8,0),COLORFF33FF;<br>STICKLINE(((((C&lt;REF(C,1)) AND (C&lt;REF(C,1))) AND (H&gt;逃遁)) AND (C&lt;逃遁)),C,O,2.1,0),COLORFF88FF;<br>STICKLINE(((((C&lt;REF(C,1)) AND (C&lt;REF(C,1))) AND (H&gt;逃遁)) AND (C&lt;逃遁)),C,O,1.3,0),COLORFFAAFF;<br>STICKLINE(((((C&lt;REF(C,1)) AND (C&lt;REF(C,1))) AND (H&gt;逃遁)) AND (C&lt;逃遁)),H,L,0.4,0),COLORFFCCFF;<br>DRAWTEXT(FILTER(((((LLV(L,0) AND ((MA(C,37)-REF(MA(C,37),1))&gt;0)) AND (L&lt;&#x3D;短期底部)) AND (WINNER(C)&lt;0.05)) AND ((C&#x2F;O)&gt;0.13)),7),(L-0.09),’●见底’),COLOR00B2FF;<br>阻挡:&#x3D;(SMA(L,21,2)*0.94);<br>DRAWTEXT_FIX(C&gt;O,0.01,1,0,’SGZBK.TOP’),COLORWHITE;<br>DRAWTEXT(FILTER(((((((((C&#x2F;O)&gt;1.03) AND ((MA(C,15)-REF(MA(C,15),1))&gt;0)) AND ((C-REF(C,1))&gt;0)) AND (H&lt;压力一)) AND (C&lt;压力一)) AND ((压力二-REF(压力二,1))&gt;0)) AND (C&lt;(SMA(H,21,2)*1.05))),3),L,’←出击’),COLORD4DEE9;<br>DRAWTEXT((((((((C-REF(H,1))&gt;0)) AND ((中线-REF(中线,1))&gt;0)) AND (H&lt;&#x3D;压力一)) AND (C&lt;MA20)) AND (L&lt;&#x3D;中线)),(L-0.06),’←关注’),COLOR00FF00;<br>DRAWTEXT(FILTER(((((((L&lt;&#x3D;天) AND (C&gt;&#x3D;MA20)) AND (H&lt;压力一)) AND ((天-REF(天,1))&gt;0)) AND (C&lt;压力一)) AND ((MA20-REF(MA20,1))&gt;0)),6),(L-0.12),’←全仓’),COLORFFFFFF;<br>DRAWTEXT(((((L&lt;&#x3D;(SMA(L,5,2)*0.96)) AND (H&gt;&#x3D;短期底部)) AND (C&gt;&#x3D;长期底部)) AND ((C&#x2F;O)&gt;1.03)),(L-0.08),’★抄底’),COLOR0000FF;<br>DRAWTEXT(((CROSS(SMA(L,5,1),阻挡) AND (WINNER(C)&lt;&#x3D;0.17)) AND ((X1-REF(X1,1))&gt;0)),(L-0.08),’←大胆买’),COLOR00FFFF;<br>DRAWTEXT(FILTER((((((B8&lt;&#x3D;1) AND (L&lt;&#x3D;阻挡)) AND (C&gt;O)) AND (L&lt;&#x3D;中期大底)) AND (C&gt;&#x3D;长期底部)),3),(L-0.08),’←短抄’),COLORA100FF;<br>DRAWTEXT(FILTER((((CROSS((MA(L,10)*0.96),(EMA(O,107)*0.897)) AND (H&lt;MA(C,80))) AND (H&lt;压力一)) AND LLV(L,0)),10),L,’←果断买’),COLOR00FFFF;<br>DRAWTEXT(FILTER(((CROSS(中线,人) AND (LOW&lt;&#x3D;人)) AND (C&gt;&#x3D;人)),4),(L-0.06),’←买’),COLOR00FF00;<br>DRAWTEXT(FILTER((((((((MA20-REF(MA20,1))&gt;0) AND (H&lt;支撑)) AND ((AA10-REF(AA10,1))&gt;0)) AND (H&lt;压力一)) AND (VOL&gt;&#x3D;REF(VOL,1))) AND CROSS(C,MA20)),57),L,’突破生命线’),COLOR0000FF;<br>DRAWTEXT(FILTER(((((L&lt;&#x3D;MA80) AND (C&gt;MA80)) AND (C&gt; O)) AND (SMA(C,2,1)&lt;&#x3D;MA80)),8),L,’←底’),COLOR00FFFF;<br>DRAWTEXT(((CROSS(MA20,压力位) AND (L&lt;&#x3D;MA20)) AND ((MA20-REF(MA20,1))&gt;0.02)),(L-0.03),’●绝佳买点’),COLORFFF0FF;</font>  </p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E6%99%BA%E8%83%BD%E7%B3%BB%E7%BB%9F%E4%B8%BB%E5%9B%BE-2.png"> </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>主图</tag>
      </tags>
  </entry>
  <entry>
    <title>操盘买卖主图</title>
    <url>/posts/12193/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E6%93%8D%E7%9B%98%E4%B9%B0%E5%8D%96-1.png">  </p>
<p>指标简单明了，根据红色箭头操作，就这样。  </p>
<span id="more"></span>
<p><mark><strong>源码：</strong></mark>  </p>
<p><font color=e09fde>AA:&#x3D;EMA(C,2);<br>BB:&#x3D;EMA(SLOPE(C,21)*20+C,42);<br>买:&#x3D;CROSS(AA,BB);<br>卖:&#x3D;CROSS(BB,AA);<br>DRAWICON(买,L-0.1,1);<br>DRAWICON(卖,H+0.1,2);<br>STICKLINE(AA&gt;&#x3D;BB,LOW,HIGH,0.0,1),COLORRED;<br>STICKLINE(AA&gt;&#x3D;BB,CLOSE,OPEN,2,1),COLORRED;<br>STICKLINE(AA&lt;BB,LOW,HIGH,0.0,1),COLORGREEN;<br>STICKLINE(AA&lt;BB,CLOSE,OPEN,2,1),COLORGREEN;<br>DRAWTEXT_FIX(C&gt;O,0.01,0.95,0,’SGZBK.TOP’),COLORYELLOW;<br>散户:EMA(CLOSE,5),COLORWHITE;<br>操盘:MA(CLOSE,9),COLORCYAN,LINETHICK2;<br>界点:MA(CLOSE,20),COLORMAGENTA;<br>日:&#x3D;150;<br>昨前:&#x3D;3;<br>高1:&#x3D;REF(HHV(H,日),昨前);<br>低1:&#x3D;REF(LLV(L,日),昨前);<br>H1:&#x3D;高1-(高1-低1)*0.191;<br>H2:&#x3D;高1-(高1-低1)*0.382;<br>H3:&#x3D;高1-(高1-低1)*0.5;<br>H4:&#x3D;高1-(高1-低1)*0.618;<br>H5:&#x3D;高1-(高1-低1)*0.809;</font>  </p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E6%93%8D%E7%9B%98%E4%B9%B0%E5%8D%96-2.png">  </p>
<p><mark>指标仅供参考，不做投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图</tag>
      </tags>
  </entry>
  <entry>
    <title>抄死主力主图及选股</title>
    <url>/posts/32123/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E6%8A%84%E6%AD%BB%E4%B8%BB%E5%8A%9B-1.png"> </p>
<p>继续为大家分享指标公式，这次依然是主图，名：抄死主力。主图提示了三个信号，为抄死主力，杀，卖。公式无未来，可参考使用。<span id="more"></span> </p>
<p><mark><font color=red><strong>主图源码：</strong></font></mark>  </p>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line">生命线<span class="operator">:</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">26</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">,</span><span class="variable">LINETHICK2</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">&gt;=</span>生命线 <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&gt;=</span><span class="built_in">O</span><span class="operator">,</span><span class="variable">H</span><span class="operator">,</span><span class="variable">L</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">&gt;=</span>生命线 <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&gt;=</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">;</span></span><br><span class="line">多头线<span class="operator">:</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1.5</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR0000CC</span><span class="operator">;</span></span><br><span class="line">空头线<span class="operator">:</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">5</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORMAGENTA</span><span class="operator">;</span></span><br><span class="line">均衡线<span class="operator">:</span><span class="variable">EMA</span><span class="punctuation">(</span>空头线<span class="operator">,</span><span class="number">5</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORGREEN</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG1</span><span class="operator">:=</span><span class="variable">COUNT</span><span class="punctuation">(</span><span class="variable">CROSS</span><span class="punctuation">(</span>多头线<span class="operator">,</span>均衡线<span class="punctuation">)</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">=</span><span class="number">1</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG2</span><span class="operator">:=</span><span class="variable">COUNT</span><span class="punctuation">(</span><span class="variable">CROSS</span><span class="punctuation">(</span>空头线<span class="operator">,</span>均衡线<span class="punctuation">)</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">=</span><span class="number">1</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG3</span><span class="operator">:=</span><span class="variable">FILTER</span><span class="punctuation">(</span><span class="variable">SG1</span> <span class="variable">AND</span> <span class="variable">SG2</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG4</span><span class="operator">:=</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">-</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG5</span><span class="operator">:=</span><span class="punctuation">(</span><span class="number">100</span><span class="operator">-</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="number">90</span><span class="operator">*</span><span class="punctuation">(</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">H</span><span class="operator">,</span><span class="number">21</span><span class="punctuation">)</span><span class="operator">-</span><span class="built_in">C</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="punctuation">(</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">H</span><span class="operator">,</span><span class="number">21</span><span class="punctuation">)</span><span class="operator">-</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">L</span><span class="operator">,</span><span class="number">21</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG6</span><span class="operator">:=</span><span class="punctuation">(</span><span class="number">100</span><span class="operator">-</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="number">90</span><span class="operator">*</span><span class="punctuation">(</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">H</span><span class="operator">,</span><span class="number">21</span><span class="punctuation">)</span><span class="operator">-</span><span class="built_in">C</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="punctuation">(</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">H</span><span class="operator">,</span><span class="number">21</span><span class="punctuation">)</span><span class="operator">-</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">L</span><span class="operator">,</span><span class="number">21</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG7</span><span class="operator">:=</span><span class="punctuation">(</span><span class="number">100</span><span class="operator">-</span><span class="variable">MA</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="number">100</span><span class="operator">*</span><span class="punctuation">(</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">H</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">-</span><span class="built_in">C</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="punctuation">(</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">H</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">-</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">L</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">34</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG8</span><span class="operator">:=</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">20</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG9</span><span class="operator">:=</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">30</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SGA</span><span class="operator">:=</span><span class="punctuation">(</span><span class="variable">SG6</span><span class="operator">+</span><span class="variable">SG7</span><span class="operator">+</span><span class="variable">SG8</span><span class="operator">+</span><span class="variable">SG9</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">4</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SGB</span><span class="operator">:=</span><span class="punctuation">(</span><span class="variable">SGA</span><span class="operator">-</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGA</span><span class="operator">,</span><span class="number">15</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGA</span><span class="operator">,</span><span class="number">15</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SGC</span><span class="operator">:=</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">,</span><span class="number">8</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SGD</span><span class="operator">:=</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">-</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">6</span><span class="operator">+</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">1.004</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SGE</span><span class="operator">:=</span><span class="variable">CROSS</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="variable">SGD</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">SGD</span><span class="operator">&gt;</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGD</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SGF</span><span class="operator">:=</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">-</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">18</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">18</span><span class="operator">+</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">18</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">1.004</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SGG</span><span class="operator">:=</span><span class="variable">CROSS</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="variable">SGF</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">SGF</span><span class="operator">&gt;</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGF</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SGH</span><span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">HYBLOCK</span><span class="operator">,&#x27;</span> <span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">ZB</span><span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">SGH</span><span class="operator">,</span><span class="variable">DYBLOCK</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG</span><span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">ZB</span><span class="operator">,&#x27;</span> <span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">SG3</span><span class="operator">,</span>均衡线<span class="operator">*</span><span class="number">0.98</span><span class="operator">,&#x27;</span>↑抄死主力<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SG4</span><span class="operator">&gt;</span><span class="number">9.8</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SG4</span><span class="operator">&lt;-</span><span class="number">9.8</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORBLUE</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWICON</span><span class="punctuation">(</span><span class="variable">CROSS</span><span class="punctuation">(</span><span class="variable">SG6</span><span class="operator">,</span><span class="variable">MA</span><span class="punctuation">(</span><span class="variable">SG7</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="punctuation">(</span><span class="variable">L</span><span class="operator">*</span><span class="number">0.998</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWICON</span><span class="punctuation">(</span><span class="variable">CROSS</span><span class="punctuation">(</span><span class="variable">MA</span><span class="punctuation">(</span><span class="variable">SG7</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">SG5</span><span class="punctuation">)</span><span class="operator">,</span><span class="punctuation">(</span><span class="variable">H</span><span class="operator">*</span><span class="number">1.013</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">9</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">CROSS</span><span class="punctuation">(</span><span class="variable">SG6</span><span class="operator">,</span><span class="variable">MA</span><span class="punctuation">(</span><span class="variable">SG7</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="punctuation">(</span><span class="variable">L</span><span class="operator">*</span><span class="number">0.984</span><span class="punctuation">)</span><span class="operator">,&#x27;</span>↖杀<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR4440FF</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">CROSS</span><span class="punctuation">(</span><span class="variable">MA</span><span class="punctuation">(</span><span class="variable">SG7</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">SG5</span><span class="punctuation">)</span><span class="operator">,</span><span class="punctuation">(</span><span class="variable">H</span><span class="operator">*</span><span class="number">1.02</span><span class="punctuation">)</span><span class="operator">,&#x27;</span>卖<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORGREEN</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">&gt;</span><span class="built_in">O</span><span class="operator">,</span><span class="number">0.01</span><span class="operator">,</span><span class="number">1.0</span><span class="operator">,</span><span class="number">0</span><span class="operator">,&#x27;</span><span class="variable">SGZBK</span><span class="operator">.</span><span class="variable">TOP</span><span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORWHITE</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">&lt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">H</span><span class="operator">,</span><span class="variable">L</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORBLUE</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">&lt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORBLUE</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">&lt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&lt;</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORBLACK</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">&lt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&lt;</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2.3</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORBLUE</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">&gt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">H</span><span class="operator">,</span><span class="variable">L</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">&gt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">&gt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&lt;</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR0000DD</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">&lt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">SGC</span><span class="operator">&gt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGC</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">H</span><span class="operator">,</span><span class="variable">L</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORGREEN</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">&lt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">SGC</span><span class="operator">&gt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGC</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORGREEN</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">&lt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGB</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">SGC</span><span class="operator">&gt;</span><span class="number">1</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SGC</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&lt;</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORGREEN</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGE</span><span class="operator">,</span><span class="variable">H</span><span class="operator">,</span><span class="variable">L</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORWHITE</span><span class="operator">,</span><span class="variable">LINETHICK1</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGE</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORWHITE</span><span class="operator">,</span><span class="variable">LINETHICK2</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGG</span><span class="operator">,</span><span class="variable">H</span><span class="operator">,</span><span class="variable">L</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">,</span><span class="variable">LINETHICK2</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SGG</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">,</span><span class="variable">LINETHICK2</span><span class="operator">;</span></span><br><span class="line"><span class="variable">Z4</span><span class="operator">:</span><span class="type">DRAWTEXT_FIX</span><span class="punctuation">(</span><span class="variable">ISLASTBAR</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">SG</span><span class="operator">,</span><span class="variable">GNBLOCK</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span><span class="punctuation">(</span><span class="variable">ISLASTBAR</span><span class="operator">,</span><span class="number">0.002</span><span class="operator">,</span><span class="number">0.1</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="variable">ZDBLOCK</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">流通市值<span class="operator">:</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">40</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">0.00000001</span><span class="operator">,</span><span class="variable">NODRAW</span><span class="operator">,</span><span class="variable">COLORWHITE</span><span class="operator">;</span></span><br></pre></td></tr></table></figure>
<p><mark><font color=red><strong>抄死主力选股（可作副图）：</strong></font></mark>  </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">多头线:=<span class="built_in">EMA</span>(C,<span class="number">1.5</span>),COLOR0000CC;</span><br><span class="line">空头线:=<span class="built_in">EMA</span>(C,<span class="number">5</span>),COLORMAGENTA;</span><br><span class="line">均衡线:=<span class="built_in">EMA</span>(空头线,<span class="number">5</span>),COLORGREEN;</span><br><span class="line">SG1:=<span class="built_in">COUNT</span>(<span class="built_in">CROSS</span>(多头线,均衡线),<span class="number">2</span>)=<span class="number">1</span>;</span><br><span class="line">SG2:=<span class="built_in">COUNT</span>(<span class="built_in">CROSS</span>(空头线,均衡线),<span class="number">2</span>)=<span class="number">1</span>;</span><br><span class="line">抄死主力:<span class="built_in">FILTER</span>(SG1 AND SG2,<span class="number">2</span>);  </span><br></pre></td></tr></table></figure>

<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E6%8A%84%E6%AD%BB%E4%B8%BB%E5%8A%9B-2.png">  </p>
<p><mark style="background-color: #ff0a5"><font color=red>指标仅供参考，不作投资依据。</font></mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>主图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>火凤凰主图及选股</title>
    <url>/posts/14901/</url>
    <content><![CDATA[<p> <img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E7%81%AB%E5%87%A4%E5%87%B0-1.png">  </p>
<p>主图及选股指标公式，信号比较多，结合其它指标使用。  </p>
<span id="more"></span>  
<p><mark><strong>主图源码：</strong></mark>  </p>
<p><font color=b14e53>M1:&#x3D;5;<br>M2:&#x3D;10;<br>M3:&#x3D;22;<br>M4:&#x3D;120;<br>M5:&#x3D;(C-REF(C,1))&#x2F;REF(C,1)*100;<br>STICKLINE(M5&gt;9.8,O,C,3,0),COLORYELLOW;<br>STICKLINE(M5&lt;-9.8,O,C,3,0),COLORGREEN;<br>STICKLINE(LOW &gt;REF(HIGH,1),LOW,REF(HIGH,1),5,1),COLORRED;<br>STICKLINE(C&lt;REF(C,1) AND REF(L,1)&gt;H,REF(L,1),H,5,1),COLORMAGENTA;<br>DRAWTEXT_FIX(C&gt;O,0,0.95,0,’SGZBK.TOP’),COLORWHITE;<br>EMA5:EMA(C,M1),LINETHICK1,COLORBLUE;<br>EMA10:EMA(C,M2),LINETHICK1,COLORYELLOW;<br>EMA22:EMA(C,M3),LINETHICK1,COLORRED;<br>EMA120:EMA(CLOSE,M4),LINETHICK2,COLORGREEN;<br>ZB1:&#x3D;EMA5&gt;&#x3D;EMA10 AND EMA10&gt;&#x3D;EMA22;<br>ZB2:&#x3D;EMA22&gt;&#x3D;EMA10 AND EMA10&gt;&#x3D;EMA5;<br>DRAWICON(CROSS(EMA5,EMA10),L,34);<br>DRAWICON(CROSS(EMA10,EMA5),H,35);<br>DRAWTEXT(ZB1&gt;REF(ZB1,1),L,’↑火凤凰’),COLORRED;<br>DRAWTEXT(ZB2&gt;REF(ZB2,1),H,’↓凤凰尾’),COLORGREEN;</font>  </p>
<p><mark><strong>选股源码：</strong></mark></p>
<p><font color=df7251>M1:&#x3D;5;<br>M2:&#x3D;10;<br>M3:&#x3D;22;<br>M4:&#x3D;120;<br>M5:&#x3D;(C-REF(C,1))&#x2F;REF(C,1)*100;<br>EMA5:&#x3D;EMA(C,M1);<br>EMA10:&#x3D;EMA(C,M2);<br>EMA22:&#x3D;EMA(C,M3);<br>ZB1:&#x3D;EMA5&gt;&#x3D;EMA10 AND EMA10&gt;&#x3D;EMA22;<br>ZB2:&#x3D;EMA22&gt;&#x3D;EMA10 AND EMA10&gt;&#x3D;EMA5;<br>XG:ZB1&gt;REF(ZB1,1);</font> </p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E7%81%AB%E5%87%A4%E5%87%B0-2.png"> </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>主图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>牛来了副图</title>
    <url>/posts/40233/</url>
    <content><![CDATA[<p>  <img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E7%89%9B%E6%9D%A5%E4%BA%86-1.png">  </p>
<p>  一个副图公式，出现三角形就是买的信号。<br>   <span id="more"></span></p>
<p>  <mark><strong>源码：</strong></mark>   </p>
<p> <font color=b14e53>TJ1:&#x3D;REF(LOW,2)&#x3D;LLV(LOW,5);<br>TJ2:&#x3D;CROSS(TJ1,0.9);<br>TJ3:&#x3D;TJ1 AND LOW&gt;REF(LOW,1) AND H&gt;REF(H,1);<br>DRAWTEXT(TJ2 AND CROSS(C,MA(C,5)),LOW*-0.01,’B’),COLORRED;<br>DRAWTEXT(CROSS(TJ3,0.9) AND CROSS(C,MA(C,5)),H+80,’坚定’);<br>DRAWTEXT_FIX(C&gt;O,0.01,0.9,0,’SGZBK.TOP’),COLORYELLOW;<br>TJA:&#x3D;100-3*SMA((CLOSE-LLV(LOW,75))&#x2F;(HHV(HIGH,75)-LLV(LOW,75))<em>100,20,1)+2</em>SMA(SMA ((CLOSE-LLV(LOW,75))&#x2F;(HHV(HIGH,75)-LLV(LOW,75))<em>100,20,1),15,1);<br>TJB:&#x3D;100-3</em>SMA((OPEN-LLV(LOW,75))&#x2F;(HHV(HIGH,75)-LLV(LOW,75))<em>100,20,1)+2</em>SMA(SMA((OPEN- LLV(LOW,75))&#x2F;(HHV(HIGH,75)-LLV(LOW,75))*100,20,1),15,1);<br>要牛:TJA&lt;REF(TJB,1) AND VOL&gt;REF(VOL,1) AND CLOSE&gt;REF(CLOSE,1);<br>DRAWTEXT(要牛 AND COUNT(要牛,18)&#x3D;1,H+50,’要牛’);<br>牛B:&#x3D;IF((CLOSE&gt;REF(CLOSE,1)),88,0);<br>牛来了:IF(((CLOSE)&#x2F;(REF(CLOSE,1))&gt;1.05) AND ((HIGH)&#x2F;(CLOSE)&lt;1.01) AND (牛B&gt;0),91,0);</font> </p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E7%89%9B%E6%9D%A5%E4%BA%86-2.png">  </p>
<p>  <mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark>  </p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图</tag>
      </tags>
  </entry>
  <entry>
    <title>祼K线主图</title>
    <url>/posts/53411/</url>
    <content><![CDATA[<p>  <img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E8%A3%B8K-1.png">  </p>
<p>  一个主图公式，看图就明白用法，没什么复杂的。</p>
<span id="more"></span>
<p>  <mark><strong>源码：</strong></mark>  </p>
<p>  <font color=e09fde>{一目了然}<br>DRAWGBK(C&gt;0,RGB(20,0,28),RGB(20,0,28),0,0,1);<br>N:&#x3D;240;<br>KK:&#x3D;BARSLAST(CURRBARSCOUNT&#x3D;N);<br>GD:&#x3D;CONST(IF(ISLASTBAR&#x3D;1,HHV(H,KK),0));<br>RR:&#x3D;CONST(IF(ISLASTBAR&#x3D;1,LLV(L,KK),0));<br>KJ:&#x3D;GD-RR;<br>高:IF(CURRBARSCOUNT&lt;&#x3D;N,GD,DRAWNULL),COLOR00FFFF,POINTDOT;<br>压:IF(CURRBARSCOUNT&lt;&#x3D;N,GD-KJ*0.191,DRAWNULL),COLORFF00FF,NODRAW;<br>平衡:IF(CURRBARSCOUNT&lt;&#x3D;N,RR+KJ&#x2F;2,DRAWNULL),COLOR00FFFF,NODRAW;<br>支撑:IF(CURRBARSCOUNT&lt;&#x3D;N,RR+KJ*0.191,DRAWNULL),COLOR00FF00,NODRAW;<br>低:IF(CURRBARSCOUNT&lt;&#x3D;N,RR,DRAWNULL),COLOR00FF00,POINTDOT;<br>天:BARSLAST(L&#x3D;RR),COLOR00FFFF,NODRAW;<br>STICKLINE(CURRBARSCOUNT&#x3D;N,GD,RR,0,-1),COLORGREEN;<br>STICKLINE(CURRBARSCOUNT&#x3D;N,GD,RR,0,-1),COLORGREEN;<br>STICKLINE(CURRBARSCOUNT&#x3D;1,GD,RR,0,-1),COLORGREEN;<br>STICKLINE(CURRBARSCOUNT&lt;&#x3D;N,平衡,平衡,3,-1),COLORWHITE;<br>STICKLINE(CURRBARSCOUNT&lt;&#x3D;N,压,压,3,-1),COLORRED;<br>STICKLINE(CURRBARSCOUNT&lt;&#x3D;N,支撑,支撑,3,-1),COLORGREEN;<br>DRAWTEXT(CURRBARSCOUNT&#x3D;1,压,’0.809’),COLOR0000FF;<br>DRAWTEXT(CURRBARSCOUNT&#x3D;1,平衡,’0.500’),COLORFFFFFF;<br>DRAWTEXT(CURRBARSCOUNT&#x3D;1,支撑,’0.191’),COLOR00FFFF;<br>DRAWTEXT_FIX(C&gt;O,0.01,0.95,0,’博客：SHUIGESPACE.GITHUB.IO’),COLORYELLOW;<br>A:&#x3D;EMA(C,21)COLORBLUE,LINETHICK3;<br>B:&#x3D;A&lt;REF(A,1);<br>HY:&#x3D;IF(B-1,A,DRAWNULL)COLORRED,LINETHICK3;<br>AA:&#x3D;EMA(C,3) &gt; EMA(C,21);<br>BB:&#x3D;EMA(C,3) &lt; EMA(C,21);<br>CC:&#x3D; EMA(C,3) &gt; EMA(C,8);<br>CC1:&#x3D;EMA(C,3) &lt; EMA(C,8);<br>STICKLINE(AA,L,H,0,0),COLOR0088EE;{金色}<br>STICKLINE(AA,CLOSE,OPEN,3,0),COLOR0055AA;<br>STICKLINE(AA,CLOSE,OPEN,2.8,0),COLOR0066BB;<br>STICKLINE(AA,CLOSE,OPEN,2.5,0),COLOR0077CC;<br>STICKLINE(AA,CLOSE,OPEN,2.2,0),COLOR0088DD;<br>STICKLINE(AA,CLOSE,OPEN,1.7,0),COLOR0099EE;<br>STICKLINE(AA,CLOSE,OPEN,1.2,0),COLOR00AAFF;<br>STICKLINE(AA,CLOSE,OPEN,0.7,0),COLOR00CCFF;<br>STICKLINE(AA,CLOSE,OPEN,0.2,0),COLOR00FFFF;<br>STICKLINE(BB,H,L,0,1),COLORGREEN;{绿色}<br>STICKLINE(BB,C,O,3.2,0),COLOR006600;<br>STICKLINE(BB,C,O,2.6,0),COLOR008800;<br>STICKLINE(BB,C,O,1.9,0),COLOR00AA00;<br>STICKLINE(BB,C,O,1.1,0),COLOR00CC00;<br>STICKLINE(BB,C,O,0.3,0),COLOR00FF00;<br>STICKLINE(BB AND CC,H,L,0,1),COLORFF55FF;{紫色}<br>STICKLINE(BB AND CC,C,O,3.2,0),COLOR880088;<br>STICKLINE(BB AND CC,C,O,2.6,0),COLORAA00AA;<br>STICKLINE(BB AND CC,C,O,1.9,0),COLORCC00CC;<br>STICKLINE(BB AND CC,C,O,1.1,0),COLOREE00EE;<br>STICKLINE(BB AND CC,C,O,0.3,0),COLORFF44FF;<br>STICKLINE(AA AND CC1,H,L,0,1),COLORFF8800;{蓝色}<br>STICKLINE(AA AND CC1,C,O,3.2,0),COLORFF2200;<br>STICKLINE(AA AND CC1,C,O,2.6,0),COLORFF4400;<br>STICKLINE(AA AND CC1,C,O,1.9,0),COLORFF6600;<br>STICKLINE(AA AND CC1,C,O,1.1,0),COLORFF8800;<br>STICKLINE(AA AND CC1,C,O,0.3,0),COLORFFAA00;<br>DRAWTEXT(CURRBARSCOUNT&#x3D;N&#x2F;2+9,GD-KJ&#x2F;12,’强势区域–急拉减仓!’),COLOR00FFFF;<br>DRAWTEXT(CURRBARSCOUNT&#x3D;N&#x2F;2+9,GD-KJ&#x2F;3,’●震荡整理–寻机低吸!’),COLOR00FF00;<br>DRAWTEXT(CURRBARSCOUNT&#x3D;N&#x2F;2+9,RR+KJ&#x2F;3,’◆反弹中轨–逢高休息!’),COLORFFFFFF;<br>DRAWTEXT(CURRBARSCOUNT&#x3D;N&#x2F;2+9,RR+KJ&#x2F;10,’■弱势区域–暂不参与!’),COLORFFFF00;<br>{}<br>STICKLINE(BARSLAST(CURRBARSCOUNT&#x3D;3)&gt;&#x3D;0,REF(C,BARSLAST(CURRBARSCOUNT&#x3D;3)),REF(C,BARSLAST(CURRBARSCOUNT&#x3D;3)),6,-1),COLORYELLOW;<br>AAA:&#x3D;BARSLAST(DATE!&#x3D;REF(DATE,1));<br>前天收:&#x3D;REF(C,AAA+2)COLORWHITE;<br>{}<br>{高点突破};<br>BDGD:&#x3D;C&#x3D;HHV(C,13);<br>GDSJ:&#x3D;BARSLAST(FILTER(CROSS(0.8,BDGD),2))+1;<br>高点:REF(C,GDSJ),COLORFF00FF,POINTDOT;<br>突破:CROSS(C,REF(高点,1)),COLOR00FFFF,POINTDOT,NODRAW;<br>STICKLINE(GDSJ&lt;&#x3D;6,高点,高点,3,0),COLORFF00FF;<br>DRAWTEXT(突破,LOW,’↑突买’),COLOR00FFFF;<br>DRAWICON(CROSS(C,HHV(突破,’↑突买’)),L,1);</font>  </p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E8%A3%B8K-2.png">  </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark>  </p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>主图</tag>
      </tags>
  </entry>
  <entry>
    <title>猎庄出击</title>
    <url>/posts/27275/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E7%8C%8E%E5%BA%84%E5%87%BA%E5%87%BB-1.png"> </p>
<p>网络上的一个指标，我稍为做了一下修改，把多余的条件去掉了。出现紫色柱子时，是买入信号，柱子越高越好。<span id="more"></span></p>
<p><mark><font color=red><strong>副图源码：</strong></font></mark></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">SG1:=<span class="built_in">REF</span>(L,<span class="number">1</span>);</span><br><span class="line">SG2:=<span class="built_in">SMA</span>(<span class="built_in">ABS</span>(L-SG1),<span class="number">3</span>,<span class="number">1</span>)/<span class="built_in">SMA</span>(<span class="built_in">MAX</span>(L-SG1,<span class="number">0</span>),<span class="number">3</span>,<span class="number">1</span>)*<span class="number">100</span>;</span><br><span class="line">SG3:=<span class="built_in">EMA</span>(<span class="built_in">IF</span>(C*<span class="number">1.2</span>,SG2*<span class="number">10</span>,SG2/<span class="number">10</span>),<span class="number">3</span>);</span><br><span class="line">SG4:=<span class="built_in">LLV</span>(L,<span class="number">38</span>);</span><br><span class="line">SG5:=<span class="built_in">HHV</span>(SG3,<span class="number">38</span>);</span><br><span class="line">SG6:=<span class="built_in">IF</span>(<span class="built_in">LLV</span>(L,<span class="number">90</span>),<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">SG7:=<span class="built_in">EMA</span>(<span class="built_in">IF</span>(L&lt;=SG4,(SG3+SG5*<span class="number">2</span>)/<span class="number">2</span>,<span class="number">0</span>),<span class="number">3</span>)/<span class="number">618</span>*SG6;</span><br><span class="line">SG:<span class="built_in">STICKLINE</span>(<span class="number">1</span>,SG7,<span class="number">0</span>,<span class="number">4</span>,<span class="number">1</span>),COLORF000FF;</span><br><span class="line">ZB:=SG7&gt;<span class="number">5</span>;</span><br><span class="line">买入:<span class="built_in">IF</span>((<span class="built_in">COUNT</span>(ZB,<span class="number">2</span>)=<span class="number">2</span>),-<span class="number">20</span>,-<span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<p><mark><font color=red><strong>选股：</strong></font></mark></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">SG1:=<span class="built_in">REF</span>(L,<span class="number">1</span>);</span><br><span class="line">SG2:=<span class="built_in">SMA</span>(<span class="built_in">ABS</span>(L-SG1),<span class="number">3</span>,<span class="number">1</span>)/<span class="built_in">SMA</span>(<span class="built_in">MAX</span>(L-SG1,<span class="number">0</span>),<span class="number">3</span>,<span class="number">1</span>)*<span class="number">100</span>;</span><br><span class="line">SG3:=<span class="built_in">EMA</span>(<span class="built_in">IF</span>(C*<span class="number">1.2</span>,SG2*<span class="number">10</span>,SG2/<span class="number">10</span>),<span class="number">3</span>);</span><br><span class="line">SG4:=<span class="built_in">LLV</span>(L,<span class="number">38</span>);</span><br><span class="line">SG5:=<span class="built_in">HHV</span>(SG3,<span class="number">38</span>);</span><br><span class="line">SG6:=<span class="built_in">IF</span>(<span class="built_in">LLV</span>(L,<span class="number">90</span>),<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">SG7:=<span class="built_in">EMA</span>(<span class="built_in">IF</span>(L&lt;=SG4,(SG3+SG5*<span class="number">2</span>)/<span class="number">2</span>,<span class="number">0</span>),<span class="number">3</span>)/<span class="number">618</span>*SG6;</span><br><span class="line">ZB:=SG7&gt;<span class="number">5</span>;</span><br><span class="line">买入:<span class="built_in">IF</span>((<span class="built_in">COUNT</span>(ZB,<span class="number">2</span>)=<span class="number">2</span>),-<span class="number">20</span>,-<span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E7%8C%8E%E5%BA%84%E5%87%BA%E5%87%BB-2.png"> </p>
<p><mark style="background-color: #ff0a5"><font color=red>指标仅供参考，不作投资依据。</font></mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>精准短线副图和选股</title>
    <url>/posts/1061/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E7%B2%BE%E5%87%86%E7%9F%AD%E7%BA%BF-1.png">  </p>
<p> 此公式包含副图和选股，看图。<br> <span id="more"></span></p>
<p><mark><strong>源码：</strong></mark>  </p>
<p><font color=b14e53>LC:&#x3D;REF(CLOSE,1);<br>RSI5:&#x3D;((SMA(MAX((CLOSE-LC),0),5,1)&#x2F;SMA(ABS((CLOSE-LC)),5,1))<em>100);<br>TR1:&#x3D;SUM(MAX(MAX((HIGH-LOW),ABS((HIGH-REF(CLOSE,1)))),ABS((LOW-REF(CLOSE,1)))),10);<br>HD:&#x3D;(HIGH-REF(HIGH,1));<br>LD:&#x3D;(REF(LOW,1)-LOW);<br>DMP:&#x3D;SUM(IF(((HD&gt;0) AND (HD&gt;LD)),HD,0),10);<br>DMM:&#x3D;SUM(IF(((LD&gt;0) AND (LD&gt;HD)),LD,0),10);<br>PDI:&#x3D;((DMP</em>100)&#x2F;TR1);<br>MDI:&#x3D;((DMM*100)&#x2F;TR1);<br>ADX:&#x3D;MA(((ABS((MDI-PDI))&#x2F;(MDI+PDI))<em>100),5);<br>AV:&#x3D;(RSI5+ADX);<br>DXR:&#x3D;(((ADX+REF(ADX,5))&#x2F;2)+RSI5);<br>DRAWTEXT_FIX(C&gt;O,0.01,0.9,0,’SGZBK.TOP’),COLORYELLOW;<br>WR10:&#x3D;((100</em>(HHV(HIGH,10)-CLOSE))&#x2F;(HHV(HIGH,10)-LLV(LOW,10)));<br>NEWVOL:&#x3D;(RSI5-WR10);<br>最佳买入:&#x3D;(AV+NEWVOL);<br>最佳买入选股:&#x3D;IF(CROSS(最佳买入,0),1,0),STICK,COLORRED;<br>VAR1:&#x3D;SMA(最佳买入选股,3,1);<br>VAR2:&#x3D;SMA(VAR1,3,1),COLOR0000FF;<br>VAR3:&#x3D;SMA(VAR2,3,1),COLOR00FFFF;<br>短线买点:IF(CROSS(VAR2,VAR3) AND (VAR2&lt;40),5,0* 10000),COLORFF00FF,LINETHICK2;</font>  </p>
<p><mark><strong>选股：</strong></mark>  </p>
<p><font color=df7251>LC:&#x3D;REF(CLOSE,1);<br>RSI5:&#x3D;((SMA(MAX((CLOSE-LC),0),5,1)&#x2F;SMA(ABS((CLOSE-LC)),5,1))<em>100);<br>TR1:&#x3D;SUM(MAX(MAX((HIGH-LOW),ABS((HIGH-REF(CLOSE,1)))),ABS((LOW-REF(CLOSE,1)))),10);<br>HD:&#x3D;(HIGH-REF(HIGH,1));<br>LD:&#x3D;(REF(LOW,1)-LOW);<br>DMP:&#x3D;SUM(IF(((HD&gt;0) AND (HD&gt;LD)),HD,0),10);<br>DMM:&#x3D;SUM(IF(((LD&gt;0) AND (LD&gt;HD)),LD,0),10);<br>PDI:&#x3D;((DMP</em>100)&#x2F;TR1);<br>MDI:&#x3D;((DMM*100)&#x2F;TR1);<br>ADX:&#x3D;MA(((ABS((MDI-PDI))&#x2F;(MDI+PDI))<em>100),5);<br>AV:&#x3D;(RSI5+ADX);<br>DXR:&#x3D;(((ADX+REF(ADX,5))&#x2F;2)+RSI5);<br>WR10:&#x3D;((100</em>(HHV(HIGH,10)-CLOSE))&#x2F;(HHV(HIGH,10)-LLV(LOW,10)));<br>NEWVOL:&#x3D;(RSI5-WR10);<br>最佳买入:&#x3D;(AV+NEWVOL);<br>最佳买入选股:&#x3D;IF(CROSS(最佳买入,0),1,0),COLORRED;<br>VAR1:&#x3D;SMA(最佳买入选股,3,1);<br>VAR2:&#x3D;SMA(VAR1,3,1),COLOR0000FF;<br>VAR3:&#x3D;SMA(VAR2,3,1),COLOR00FFFF;<br>XG:CROSS(VAR2,VAR3) AND (VAR2&lt;40);</font>  </p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E7%B2%BE%E5%87%86%E7%9F%AD%E7%BA%BF-2.png">  </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>简化版顶底副图及选股</title>
    <url>/posts/14024/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E7%AE%80%E5%8C%96%E7%89%88%E9%A1%B6%E5%BA%95-1.png"> </p>
<p>这是我个人修改后的副图，我感觉原版不好看，且没有选股，我把它稍为修改了一下，副图就显示抄底和逃顶两个信号，这样看起来一目了然，再增加了<font color=red>抄底</font>的选股公式。😁<span id="more"></span></p>
<p><mark><font color=red><strong>副图源码：</strong></font></mark></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">SG1:=(C-LLV(L,<span class="number">36</span>))/(HHV(H,<span class="number">36</span>)-LLV(L,<span class="number">36</span>))*<span class="number">100</span>;</span><br><span class="line">SG2:=SMA(SG1,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">SG3:=SMA(SG2,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">SG4:=SMA(SG3,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">波:=SG3;</span><br><span class="line">段:=SG4;</span><br><span class="line">SG5:=CROSS(SG3,SG4) AND SG3&lt;<span class="number">20</span>;</span><br><span class="line">DRAWTEXT_FIX(C&gt;O,<span class="number">0.01</span>,<span class="number">0.9</span>,<span class="number">0</span>,<span class="string">&#x27;SGZBK.TOP&#x27;</span>),COLORWHITE;</span><br><span class="line">DRAWTEXT(FILTER(SG5,<span class="number">10</span>)=<span class="number">1</span>,<span class="number">40</span>,<span class="string">&#x27;抄底&#x27;</span>),LINETHICK3;</span><br><span class="line">STICKLINE(FILTER(SG5,<span class="number">10</span>)=<span class="number">1</span>,<span class="number">0</span>,<span class="number">30</span>,<span class="number">4</span>,<span class="number">0</span>),COLORRED;</span><br><span class="line">SG6:=CROSS(SG4,SG3) AND SG3&gt;<span class="number">80</span>;</span><br><span class="line">STICKLINE(FILTER(SG6,<span class="number">5</span>)=<span class="number">1</span>,<span class="number">90</span>,<span class="number">60</span>,<span class="number">4</span>,<span class="number">0</span>),COLORYELLOW;</span><br><span class="line">DRAWTEXT(FILTER(SG6,<span class="number">5</span>)=<span class="number">1</span>,<span class="number">50</span>,<span class="string">&#x27;逃顶&#x27;</span>),LINETHICK1,COLORYELLOW;</span><br></pre></td></tr></table></figure>

<p><mark><font color=red><strong>抄底选股源码：</strong></font></mark> </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">SG1:=(<span class="built_in">C-LLV</span>(L,<span class="number">36</span>))/(<span class="built_in">HHV</span>(H,<span class="number">36</span>)<span class="built_in">-LLV</span>(L,<span class="number">36</span>))*<span class="number">100</span>;</span><br><span class="line">SG2:=<span class="built_in">SMA</span>(SG1,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">SG3:=<span class="built_in">SMA</span>(SG2,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">SG4:=<span class="built_in">SMA</span>(SG3,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">波:=SG3;</span><br><span class="line">段:=SG4;</span><br><span class="line">SG5:=<span class="built_in">CROSS</span>(SG3,SG4) AND SG3&lt;<span class="number">20</span>;</span><br><span class="line">抄底:<span class="built_in">FILTER</span>(SG5,<span class="number">10</span>)=<span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E7%AE%80%E5%8C%96%E7%89%88%E9%A1%B6%E5%BA%95-2.png"> </p>
<p><mark style="background-color: #ff0a5"><font color=red>指标仅供参考，不作投资依据。</font></mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>见底资金入场副图</title>
    <url>/posts/1966/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E8%A7%81%E5%BA%95%E8%B5%84%E9%87%91-1.png">  </p>
<p>一个副图公式，信号比较多，大柱子出现就是信号。</p>
<span id="more"></span>
<p><mark><strong>源码：</strong></mark></p>
<p><font color=b14e53>RV3:&#x3D;REF(L,1);<br>MA58:&#x3D;MA(C,58);<br>LV30:&#x3D;LLV(L,30);<br>VAR1:&#x3D;EMA(HHV(H,500),21);<br>VAR2:&#x3D;EMA(HHV(H,250),21);<br>VAR3:&#x3D;EMA(HHV(H,90),21);<br>VAR4:&#x3D;EMA(LLV(L,500),21);<br>VAR5:&#x3D;EMA(LLV(L,250),21);<br>VAR6:&#x3D;EMA(LLV(L,90),21);<br>VAR7:&#x3D;EMA((VAR4<em>0.96+VAR5</em>0.96+VAR6<em>0.96+VAR1</em>0.558+VAR2<em>0.558+VAR3</em>0.558)&#x2F;6,21);<br>VAR8:&#x3D;EMA((VAR4<em>1.25+VAR5</em>1.23+VAR6<em>1.2+VAR1</em>0.55+VAR2<em>0.55+VAR3</em>0.65)&#x2F;6,21);<br>VAR9:&#x3D;EMA((VAR4<em>1.3+VAR5</em>1.3+VAR6<em>1.3+VAR1</em>0.68+VAR2<em>0.68+VAR3</em>0.68)&#x2F;6,21);<br>VARA:&#x3D;EMA((VAR7<em>3+VAR8</em>2+VAR9)&#x2F;6*1.738,21);<br>VARC:&#x3D;SMA(ABS(L-RV3),3,1)&#x2F;SMA(MAX(L-RV3,0),3,1)<em>100;<br>VARD:&#x3D;EMA(IF(C</em>1.35&lt;&#x3D;VARA,VARC*10,VARC&#x2F;10),3);<br>VARF:&#x3D;HHV(VARD,30);<br>VARE:&#x3D;IF(MA58,1,0);<br>DRAWTEXT_FIX(C&gt;O,0.01,0.9,0,’SGZBK.TOP’),COLORYELLOW;<br>资金入场:&#x3D;EMA(IF(L&lt;&#x3D;LV30,(VARD+VARF*2)&#x2F;2,0),3)&#x2F;618*VARE;<br>见底:IF(FILTER(资金入场&gt;1,5) AND REF(资金入场,1)&lt;&#x3D;0.5,1,DRAWNULL),COLORFF00AA,NODRAW;<br>STICKLINE(见底,0,8,4,0),COLORFF00AA;<br>STICKLINE(见底,8,5,4,0),COLORRED;</font></p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E8%A7%81%E5%BA%95%E8%B5%84%E9%87%91-2.png">  </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图</tag>
      </tags>
  </entry>
  <entry>
    <title>超级短线主图</title>
    <url>/posts/13432/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E8%B6%85%E7%BA%A7%E7%9F%AD%E7%BA%BF-1.png">  </p>
<p>今天分享一个主图公式和对应红箭头的选股公式（副图），公式：超级短线主图。 </p>
<span id="more"></span>
<p><mark><strong>源码：</strong></mark>  </p>
<p><font color=e09fde>MA5:MA(C,5),COLORFF00FF,LINETHICK1;<br>MA10:MA(C,10),COLOR00FFFF,LINETHICK1;<br>MA55:MA(C,55),COLORFFFFFF,LINETHICK1;<br>DRAWBAND(MA5,RGB(180,0,200),MA10,RGB(0,180,180));<br>DRAWTEXT_FIX(C&gt;O,0.01,1,0,’SGZBK.TOP’),COLORYELLOW;<br>TJ1:&#x3D;(2*CLOSE+HIGH+LOW)&#x2F;4;<br>TJ2:&#x3D;EXPMA(EXPMA(EXPMA(TJ1,4),4),4);<br>J:&#x3D; (TJ2-REF(TJ2,1))&#x2F;REF(TJ2,1)*100, COLORSTICK;<br>D:&#x3D;MA(J,3);<br>K:&#x3D; MA(J,1);<br>AA:&#x3D;K&gt;&#x3D;D ;<br>BB:&#x3D;D&gt;K ;<br>DRAWICON(CROSS(K,D),L-0.1,1);<br>DRAWICON(CROSS(D,K),H+0.1,2);<br>STICKLINE(AA,C,O,3,0),COLORRED;<br>STICKLINE(AA,H,L,0.5,0),COLORRED;<br>STICKLINE(BB,C,O,3,0),COLOR00FF00;<br>STICKLINE(BB,H,L,0.5,0),COLOR00FF00;<br>{红}<br>STICKLINE(AA,CLOSE,OPEN,3,0),COLOR000099;<br>STICKLINE(AA,CLOSE,OPEN,2.2,0),COLOR0000CC;<br>STICKLINE(AA,CLOSE,OPEN,1.5,0),COLOR0000FF;<br>STICKLINE(AA,CLOSE,OPEN,0.5,0),COLORCC66FF;<br>{蓝}<br>STICKLINE(BB,CLOSE,OPEN,3,0),COLORFF7700;<br>STICKLINE(BB,CLOSE,OPEN,2.2,0),COLORFF9900;<br>STICKLINE(BB,CLOSE,OPEN,1.5,0),COLORFFBB00;<br>STICKLINE(BB,CLOSE,OPEN,0.5,0),COLORCYAN;</font>  </p>
<p><mark><strong>红箭头副图和选股：</strong></mark>  </p>
<p><font color=ee781f>TJ1:&#x3D;(2*CLOSE+HIGH+LOW)&#x2F;4;<br>TJ2:&#x3D;EXPMA(EXPMA(EXPMA(TJ1,4),4),4);<br>J:&#x3D; (TJ2-REF(TJ2,1))&#x2F;REF(TJ2,1)*100,;<br>D:&#x3D;MA(J,3);<br>K:&#x3D; MA(J,1);<br>AA:&#x3D;K&gt;&#x3D;D ;<br>BB:&#x3D;D&gt;K ;<br>CROSS(K,D);</font>  </p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E8%B6%85%E7%BA%A7%E7%9F%AD%E7%BA%BF-2.png">  </p>
<p><mark>指标仅供参考，不做投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>主图 副图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>钱袋子买卖点主图</title>
    <url>/posts/15016/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E9%92%B1%E8%A2%8B%E5%AD%90%E4%B9%B0%E5%8D%96%E7%82%B9-1.png"> </p>
<p>一个主图公式，就逃顶，买进两个信号，出现钱袋子是买进，出现小人是逃顶，结合红色星线使用,成功率更大。</p>
<span id="more"></span>
<p><mark><strong>源码：</strong></mark></p>
<p><font color=b14e53>X1:(SUM(EMA((CLOSE+LOW)&#x2F;2,1)&#x2F;3,3)),COLOR00FFFF,LINETHICK1;<br>X2:EMA(X1,3),COLORFF00FF,LINETHICK1;<br>X3:EMA(X2,3),COLOR00FF00,LINETHICK1;<br>M20:&#x3D;MA(CLOSE,20);<br>DRAWTEXT((CLOSE&lt;M20),M20,’<em>‘),COLOR00FF00,LINETHICK5;<br>DRAWTEXT((CLOSE&gt;M20),M20,’</em>‘),COLOR0000FF,LINETHICK5;<br>VAR1:&#x3D;CLOSE&gt;REF(CLOSE,1) AND CLOSE&gt;REF(CLOSE,2);<br>VAR2:&#x3D;REF(VAR1,1) AND CLOSE&lt;&#x3D;REF(CLOSE,1) AND CLOSE&gt;&#x3D;REF(CLOSE,2);<br>VAR3:&#x3D;REF(VAR2,1) AND CLOSE&gt;&#x3D;REF(CLOSE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,2);<br>VAR4:&#x3D;REF(VAR3,1) AND CLOSE&lt;&#x3D;REF(CLOSE,1) AND CLOSE&gt;&#x3D;REF(CLOSE,2);<br>VAR5:&#x3D;REF(VAR4,1) AND CLOSE&gt;&#x3D;REF(CLOSE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,2);<br>VAR6:&#x3D;REF(VAR5,1) AND CLOSE&lt;&#x3D;REF(CLOSE,1) AND CLOSE&gt;&#x3D;REF(CLOSE,2);<br>VAR7:&#x3D;REF(VAR6,1) AND CLOSE&gt;&#x3D;REF(CLOSE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,2);<br>VAR8:&#x3D;REF(VAR7,1) AND CLOSE&lt;&#x3D;REF(CLOSE,1) AND CLOSE&gt;&#x3D;REF(CLOSE,2);<br>VAR9:&#x3D;REF(VAR8,1) AND CLOSE&gt;&#x3D;REF(CLOSE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,2);<br>VARA:&#x3D;REF(VAR9,1) AND CLOSE&lt;&#x3D;REF(CLOSE,1) AND CLOSE&gt;&#x3D;REF(CLOSE,2);<br>VARB:&#x3D;REF(VARA,1) AND CLOSE&gt;&#x3D;REF(CLOSE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,2);<br>VARC:&#x3D;REF(VARB,1) AND CLOSE&lt;&#x3D;REF(CLOSE,1) AND CLOSE&gt;&#x3D;REF(CLOSE,2);<br>VARD:&#x3D;CLOSE&lt;REF(CLOSE,1) AND CLOSE&lt;REF(CLOSE,2);<br>VARE:&#x3D;REF(VARD,1) AND CLOSE&gt;&#x3D;REF(CLOSE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,2);<br>VARF:&#x3D;REF(VARE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,1) AND CLOSE&gt;&#x3D;REF(CLOSE,2);<br>VAR10:&#x3D;REF(VARF,1) AND CLOSE&gt;&#x3D;REF(CLOSE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,2);<br>VAR11:&#x3D;REF(VAR10,1) AND CLOSE&lt;&#x3D;REF(CLOSE,1) AND CLOSE&gt;&#x3D;REF(CLOSE,2);<br>VAR12:&#x3D;REF(VAR11,1) AND CLOSE&gt;&#x3D;REF(CLOSE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,2);<br>VAR13:&#x3D;REF(VAR12,1) AND CLOSE&lt;&#x3D;REF(CLOSE,1) AND CLOSE&gt;&#x3D;REF(CLOSE,2);<br>VAR14:&#x3D;REF(VAR13,1) AND CLOSE&gt;&#x3D;REF(CLOSE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,2);<br>VAR15:&#x3D;REF(VAR14,1) AND CLOSE&lt;&#x3D;REF(CLOSE,1) AND CLOSE&gt;&#x3D;REF(CLOSE,2);<br>VAR16:&#x3D;REF(VAR15,1) AND CLOSE&gt;&#x3D;REF(CLOSE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,2);<br>VAR17:&#x3D;REF(VAR16,1) AND CLOSE&lt;&#x3D;REF(CLOSE,1) AND CLOSE&gt;&#x3D;REF(CLOSE,2);<br>VAR18:&#x3D;REF(VAR17,1) AND CLOSE&gt;&#x3D;REF(CLOSE,1) AND CLOSE&lt;&#x3D;REF(CLOSE,2);<br>VAR19:&#x3D;REF(VARD OR VARE OR VARF OR VAR10 OR VAR11 OR VAR12 OR VAR13 OR<br>VAR14 OR VAR15 OR VAR16 OR VAR17 OR VAR18,1) AND VAR1;<br>VAR1A:&#x3D;REF(VAR1 OR VAR2 OR VAR3 OR VAR4 OR VAR5 OR VAR6 OR VAR7 OR<br>VAR8 OR VAR9 OR VARA OR VARB OR VARC,1) AND VARD;<br>STICKLINE(VAR1A,REF(CLOSE,1),REF(CLOSE,2),3.2,0),COLORFF3300;<br>STICKLINE(VAR1A,REF(CLOSE,1),REF(CLOSE,2),2.7,0),COLORFF5500;<br>STICKLINE(VAR1A,REF(CLOSE,1),REF(CLOSE,2),2.1,0),COLORFF7700;<br>STICKLINE(VAR1A,REF(CLOSE,1),REF(CLOSE,2),1.5,0),COLORFF9900;<br>STICKLINE(VAR1A,REF(CLOSE,1),REF(CLOSE,2),0.9,0),COLORFFBB00;<br>STICKLINE(VAR1A,REF(CLOSE,1),REF(CLOSE,2),0.3,0),COLORFFDD00;<br>DRAWTEXT(FILTER(VAR19&#x3D;1,5),LOW,’买进’),COLORFF00FF;<br>DRAWICON(FILTER(VAR19&#x3D;1,5),LOW,9);<br>DRAWTEXT_FIX(C&gt;O,0.005,1.0,0,’SGZBK.TOP’),COLORYELLOW;<br>DRAWTEXT(FILTER(VAR1A&#x3D;1,5),HIGH,’逃顶’),COLOR00FF00;<br>DRAWICON(FILTER(VAR1A&#x3D;1,5),HIGH,15);</font></p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E9%92%B1%E8%A2%8B%E5%AD%90%E4%B9%B0%E5%8D%96%E7%82%B9-2.png"> </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>主图</tag>
      </tags>
  </entry>
  <entry>
    <title>通达信黄金主图</title>
    <url>/posts/30499/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E9%BB%84%E9%87%91%E4%B8%BB%E5%9B%BE-1.png">  </p>
<p>这是通达信主图，包括副图及选股，在这里发的所有公式均为通达信公式，其它软件没有测试过，请注意。使用方法自行摸索，主图给出了买，跟，逃顶等信号。<span id="more"></span></p>
<p><mark><font color=red><strong>主图源码：</strong></font></mark>  </p>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line">中轴线<span class="operator">:</span><span class="punctuation">(</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">12</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">24</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">4</span><span class="operator">;</span></span><br><span class="line">压力线<span class="operator">:</span> <span class="variable">BBI</span><span class="operator">+</span><span class="number">3</span><span class="operator">*</span><span class="variable">STD</span><span class="punctuation">(</span><span class="variable">BBI</span><span class="operator">,</span><span class="number">10</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">支撑线<span class="operator">:</span> <span class="variable">BBI</span><span class="operator">-</span><span class="number">3</span><span class="operator">*</span><span class="variable">STD</span><span class="punctuation">(</span><span class="variable">BBI</span><span class="operator">,</span><span class="number">10</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">安全线<span class="operator">:</span> <span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">30</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">DOTLINE</span><span class="operator">,</span><span class="variable">LINETHICK1</span><span class="operator">,</span><span class="variable">COLORFFFF00</span><span class="operator">;</span></span><br><span class="line"><span class="variable">TJ</span><span class="operator">:=</span><span class="punctuation">(</span><span class="built_in">O</span><span class="operator">+</span><span class="variable">H</span><span class="operator">+</span><span class="variable">L</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">3</span><span class="operator">;</span></span><br><span class="line"><span class="variable">A</span><span class="operator">:=</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="variable">TJ</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">VA1</span><span class="operator">:=</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">8</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">VA2</span><span class="operator">:=</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">20</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">LC</span><span class="operator">:=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">RSI</span><span class="operator">:=</span><span class="variable">SMA</span><span class="punctuation">(</span><span class="variable">MAX</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">-</span><span class="variable">LC</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">6</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">SMA</span><span class="punctuation">(</span><span class="variable">ABS</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">-</span><span class="variable">LC</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">6</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">CROSS</span><span class="punctuation">(</span><span class="number">84</span><span class="operator">,</span><span class="variable">RSI</span><span class="punctuation">)</span> <span class="operator">,</span> <span class="variable">HIGH</span><span class="operator">,&#x27;</span>逃顶<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span> <span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">&gt;</span><span class="built_in">O</span><span class="operator">,</span><span class="number">0.01</span><span class="operator">,</span><span class="number">1.0</span><span class="operator">,</span><span class="number">0</span><span class="operator">,&#x27;</span><span class="variable">SGZBK</span><span class="operator">.</span><span class="variable">TOP</span><span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORWHITE</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">CROSS</span><span class="punctuation">(</span><span class="variable">VA1</span><span class="operator">,</span><span class="variable">VA2</span><span class="punctuation">)</span><span class="variable">AND</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">&gt;=</span><span class="built_in">O</span><span class="punctuation">)</span><span class="variable">AND</span> <span class="variable">A</span><span class="operator">&gt;</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">VA1</span><span class="operator">*</span><span class="number">0.97</span><span class="operator">,&#x27;</span>★</span><br><span class="line">买<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR00FF00</span><span class="operator">;</span></span><br><span class="line">箱顶<span class="operator">:</span><span class="variable">MA</span><span class="punctuation">(</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">30</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR0000FF</span><span class="operator">,</span><span class="variable">LINETHICK2</span><span class="operator">;</span></span><br><span class="line">箱底<span class="operator">:</span><span class="variable">MA</span><span class="punctuation">(</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">30</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR00FF00</span><span class="operator">,</span><span class="variable">LINETHICK2</span><span class="operator">;</span></span><br><span class="line">买线<span class="operator">:=</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">卖线<span class="operator">:=</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="variable">SLOPE</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">21</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">20</span><span class="operator">+</span><span class="built_in">C</span><span class="operator">,</span><span class="number">42</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">CROSS</span><span class="punctuation">(</span>买线<span class="operator">,</span>卖线<span class="punctuation">)</span><span class="variable">AND</span> 箱顶<span class="operator">&gt;=</span><span class="variable">REF</span><span class="punctuation">(</span>箱顶<span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">LOW</span><span class="operator">*</span><span class="number">0.95</span><span class="operator">,&#x27;</span>★</span><br><span class="line">跟<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR00FFFF</span><span class="operator">;</span></span><br></pre></td></tr></table></figure>

<p><mark><font color=red><strong>买信号副图及选股：</strong></font></mark></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">TJ:=(O+H+L)/<span class="number">3</span>;</span><br><span class="line"><span class="selector-tag">A</span>:=<span class="built_in">EMA</span>(TJ,<span class="number">4</span>);</span><br><span class="line">VA1:=<span class="built_in">EMA</span>(C,<span class="number">8</span>);</span><br><span class="line">VA2:=<span class="built_in">EMA</span>(C,<span class="number">20</span>);</span><br><span class="line">买:<span class="built_in">CROSS</span>(VA1,VA2)<span class="built_in">AND</span>(C&gt;=O)AND A&gt;<span class="built_in">REF</span>(A,<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p><mark><font color=red><strong>跟信号副图及选股：</strong></font></mark>  </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">箱顶:=<span class="built_in">MA</span>(<span class="built_in">REF</span>(<span class="built_in">HHV</span>(C,<span class="number">30</span>),<span class="number">1</span>),<span class="number">2</span>);</span><br><span class="line">箱底:=<span class="built_in">MA</span>(<span class="built_in">REF</span>(<span class="built_in">LLV</span>(C,<span class="number">30</span>),<span class="number">1</span>),<span class="number">2</span>);</span><br><span class="line">买线:=<span class="built_in">EMA</span>(C,<span class="number">2</span>);</span><br><span class="line">卖线:=<span class="built_in">EMA</span>(<span class="built_in">SLOPE</span>(C,<span class="number">21</span>)*<span class="number">20</span>+C,<span class="number">42</span>);</span><br><span class="line">跟:<span class="built_in">CROSS</span>(买线,卖线)AND 箱顶&gt;=<span class="built_in">REF</span>(箱顶,<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E9%BB%84%E9%87%91%E4%B8%BB%E5%9B%BE-2.png"> </p>
<p><mark style="background-color: #ff0a5"><font color=red>指标仅供参考，不作投资依据。</font></mark> </p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>主图 副图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>量化波段王主图</title>
    <url>/posts/13851/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E9%87%8F%E5%8C%96%E6%B3%A2%E6%AE%B5%E7%8E%8B-1.png">  </p>
<p>给大家分享一个“量化波段王主图”公式，之前发表在知乎上,有朋友说有错误，我检查了一下，好像也没有问题呀，不过还是做了一下修改，同时增加了<font color=red>“买入”</font>信号的选股，信号比较多，请与其它指标印证使用。<br>  <span id="more"></span></p>
<p><mark><font color=red><strong>主图源码：</strong></font></mark></p>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="variable">TJ</span><span class="operator">:=</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">*</span><span class="built_in">C</span><span class="operator">+</span><span class="variable">H</span><span class="operator">+</span><span class="variable">L</span><span class="operator">+</span><span class="built_in">O</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">6</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG1</span><span class="operator">:</span><span class="punctuation">(</span><span class="number">8</span><span class="operator">*</span><span class="variable">TJ</span><span class="operator">+</span><span class="number">7</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">TJ</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">6</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">TJ</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">5</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">TJ</span><span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">4</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">TJ</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">3</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">TJ</span><span class="operator">,</span><span class="number">5</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">2</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">TJ</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">TJ</span><span class="operator">,</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">36</span><span class="operator">,</span><span class="variable">LINETHICK2</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG2</span><span class="operator">:=</span><span class="punctuation">(</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">3</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG3</span><span class="operator">:=</span><span class="punctuation">(</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">3</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG4</span><span class="operator">:</span><span class="punctuation">(</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">SG2</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">SG2</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">SG2</span><span class="operator">,</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">3</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG5</span><span class="operator">:</span><span class="punctuation">(</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">SG3</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">SG3</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">SG3</span><span class="operator">,</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">3</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">;</span></span><br><span class="line"><span class="variable">SG6</span><span class="operator">:=</span><span class="punctuation">(</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">3</span><span class="operator">;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="variable">DRAWBAND</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="variable">RGB</span><span class="punctuation">(</span><span class="number">155</span><span class="operator">,</span><span class="number">50</span><span class="operator">,</span><span class="number">50</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">VAR6</span><span class="operator">,</span><span class="variable">RGB</span><span class="punctuation">(</span><span class="number">250</span><span class="operator">,</span><span class="number">250</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="variable">IF</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">&lt;=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">SG1</span><span class="operator">,</span><span class="variable">DRAWNULL</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORGREEN</span><span class="operator">,</span><span class="variable">LINETHICK3</span><span class="operator">;</span></span><br><span class="line"><span class="variable">IF</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">&gt;=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">SG1</span><span class="operator">,</span><span class="variable">DRAWNULL</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">,</span><span class="variable">LINETHICK3</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">SG4</span><span class="operator">&gt;</span><span class="variable">SG1</span><span class="operator">,</span><span class="variable">SG4</span><span class="operator">,</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORBLUE</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWKLINE</span><span class="punctuation">(</span><span class="variable">H</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="variable">L</span><span class="operator">,</span><span class="built_in">C</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">&gt;</span><span class="built_in">O</span><span class="operator">,</span><span class="number">0.01</span><span class="operator">,</span><span class="number">1.0</span><span class="operator">,</span><span class="number">0</span><span class="operator">,&#x27;</span><span class="variable">SGZBK</span><span class="operator">.</span><span class="variable">TOP</span><span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORWHITE</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SG5</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">SG5</span><span class="operator">&lt;</span><span class="variable">SG1</span><span class="operator">,</span><span class="variable">L</span><span class="operator">*</span><span class="number">0.99</span><span class="operator">,&#x27;</span>买入<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SG6</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">SG6</span><span class="operator">&lt;</span><span class="variable">SG1</span><span class="operator">,</span><span class="variable">L</span><span class="operator">*</span><span class="number">0.98</span><span class="operator">,&#x27;</span>↖加仓<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SG4</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">SG1</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">SG4</span><span class="operator">&gt;</span><span class="variable">SG1</span><span class="operator">,</span><span class="variable">H</span><span class="operator">,&#x27;</span>卖点<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORGREEN</span><span class="operator">;</span></span><br><span class="line"><span class="variable">ZT</span><span class="operator">:=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">1.1</span><span class="operator">-</span><span class="built_in">C</span><span class="operator">&lt;</span><span class="number">0.01</span> <span class="variable">AND</span> <span class="variable">H</span><span class="operator">=</span><span class="built_in">C</span><span class="operator">;</span><span class="punctuation">&#123;</span>涨停<span class="punctuation">&#125;</span><span class="operator">;</span></span><br><span class="line">突破<span class="operator">:=</span><span class="variable">CROSS</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="variable">SG4</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">ZT</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span>突破<span class="operator">,</span><span class="variable">L</span><span class="operator">,&#x27;</span>爆点<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span>突破<span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="number">3.2</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR0077FF</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span>突破<span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="number">2.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR0099FF</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span>突破<span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="number">1.9</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR00BBFF</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span>突破<span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="number">1.2</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR00DDFF</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span>突破<span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="number">0.3</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR00FFFF</span><span class="operator">;</span></span><br></pre></td></tr></table></figure>
<p><font color=red><strong>买入副图及选股源码：</strong></font></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">TJ:=(<span class="number">3</span>*C+H+L+O)/<span class="number">6</span>;</span><br><span class="line">SG1:=(<span class="number">8</span>*TJ+<span class="number">7</span>*<span class="built_in">REF</span>(TJ,<span class="number">1</span>)+<span class="number">6</span>*<span class="built_in">REF</span>(TJ,<span class="number">2</span>)+<span class="number">5</span>*<span class="built_in">REF</span>(TJ,<span class="number">3</span>)+<span class="number">4</span>*<span class="built_in">REF</span>(TJ,<span class="number">4</span>)+<span class="number">3</span>*<span class="built_in">REF</span>(TJ,<span class="number">5</span>)+<span class="number">2</span>*<span class="built_in">REF</span>(TJ,<span class="number">6</span>)+<span class="built_in">REF</span>(TJ,<span class="number">8</span>))/<span class="number">36</span>;</span><br><span class="line">SG3:=(<span class="built_in">LLV</span>(SG1,<span class="number">2</span>)+<span class="built_in">LLV</span>(SG1,<span class="number">4</span>)+<span class="built_in">LLV</span>(SG1,<span class="number">8</span>))/<span class="number">3</span>;</span><br><span class="line">SG5:=(<span class="built_in">LLV</span>(SG3,<span class="number">2</span>)+<span class="built_in">LLV</span>(SG3,<span class="number">4</span>)+<span class="built_in">LLV</span>(SG3,<span class="number">8</span>))/<span class="number">3</span>;</span><br><span class="line">买入:<span class="built_in">REF</span>(SG5,<span class="number">1</span>)=<span class="built_in">REF</span>(SG1,<span class="number">1</span>) AND SG5&lt;SG1;</span><br></pre></td></tr></table></figure>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E9%87%8F%E5%8C%96%E6%B3%A2%E6%AE%B5%E7%8E%8B-2.png"> </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>主图 副图 选股</tag>
      </tags>
  </entry>
  <entry>
    <title>顶底三合一副图</title>
    <url>/posts/53972/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E9%A1%B6%E5%BA%95%E4%B8%89%E5%90%88%E4%B8%80-1.png"> </p>
<p>副图指标，有倾买，低买，金山等多种信号，白线上穿红线就是机会。</p>
<span id="more"></span>
<p><mark><strong>源码：</strong></mark></p>
<p><font color=b14e53>趋势:&#x3D;3<em>SMA((CLOSE-LLV(LOW,27))&#x2F;(HHV(HIGH,27)-LLV(LOW,27))<em>100,5,1)-2</em>SMA(SMA((CLOSE-LLV(LOW,27))&#x2F;(HHV(HIGH,27)-LLV(LOW,27))<em>100,5,1),3,1);<br>见底:&#x3D;10;<br>短期底部:CROSS(趋势,见底);<br>Q2:&#x3D;(CLOSE-LLV(LOW,18))&#x2F;(HHV(HIGH,18)-LLV(LOW,18))<em>100;<br>Q3:&#x3D;SMA(Q2,9,1);<br>Q4:&#x3D;SMA(Q3,3,1);<br>长趋势:3</em>Q3-2</em>Q4,COLORWHITE,LINETHICK3;<br>趋势线:EMA(Q3,3),COLORRED,LINETHICK3;<br>DRAWTEXT(CROSS(趋势线,长趋势) AND REF(长趋势,1)&gt;80,REF(长趋势,3),’<em>顶’),COLORRED,LINETHICK5;<br>★逢低买入:DRAWTEXT(REF(CROSS(趋势线,长趋势),82) AND 趋势线&gt;1.3</em>长趋势,长趋势,’★&lt;&lt;-逢低买入’),LINETHICK1;<br>★低买:DRAWTEXT(REF(CROSS(长趋势,趋势线),1) AND 长趋势&gt;1.3</em>趋势线,趋势线,’★低买’),COLORRED,LINETHICK1;<br>HLM1:&#x3D;MA(HHV(H,500),13);<br>HLM2:&#x3D;MA(HHV(H,250),13);<br>HLM3:&#x3D;MA(HHV(H,89),13);<br>HLM4:&#x3D;MA(LLV(L,500),13);<br>HLM5:&#x3D;MA(LLV(L,250),13);<br>HLM6:&#x3D;MA(LLV(L,89),13);<br>HLM7:&#x3D;MA((HLM1<em>0.558+HLM2</em>0.558+HLM3<em>0.558+HLM4</em>0.96+HLM5<em>0.96+HLM6</em>0.96)&#x2F;6,17);<br>HLM8:&#x3D;MA((HLM1<em>0.55+HLM2</em>0.55+HLM3<em>0.65+HLM4</em>1.25+HLM5<em>1.23+HLM6</em>1.2)&#x2F;6,17);<br>HLM9:&#x3D;MA((HLM1<em>0.68+HLM2</em>0.68+HLM3<em>0.68+HLM4</em>1.3+HLM5<em>1.3+HLM6</em>1.3)&#x2F;6,17);<br>HLM10:&#x3D;MA((HLM7<em>3+HLM8</em>2+HLM9)&#x2F;6*1.738,17);<br>HLM11:&#x3D;SMA(ABS(L-REF(L,1)),3,1)&#x2F;SMA(MAX(L-REF(L,1),0),3,1)<em>100;<br>HLM12:&#x3D;MA(IF(C</em>1.35&lt;&#x3D;HLM10,HLM11*10,HLM11&#x2F;10),3);<br>HLMH:&#x3D;HHV(HLM12,30);<br>关注:MA(IF(L&lt;&#x3D;LLV(L,42),(HLMH+HLM11*2)&#x2F;3,0),3)&#x2F;200;<br>DRAWBAND(关注,RGB(255,255,50),0.00001,RGB(0,100,50));<br>DRAWTEXT_FIX(C&gt;O,0.01,0.9,0,’SGZBK.TOP’),COLORYELLOW;<br>STICKLINE(CROSS(3.8,关注) AND 关注&lt;REF(关注,1),0,3.8,1,0),COLORFF00FF;<br>DRAWTEXT(CROSS(3.8,关注) AND 关注&lt;REF(关注,1),3.8,’买底’),COLORFF00FF;<br>STICKLINE(CROSS(10,关注) AND 关注&lt;REF(关注,1),0,10,2,0),COLORYELLOW;<br>DRAWTEXT(CROSS(10,关注) AND 关注&lt;REF(关注,1),10,’金山’),COLORYELLOW;<br>STICKLINE(CROSS(62,关注) AND 关注&lt;REF(关注,1),0,18,4,0),COLORRED;<br>DRAWTEXT(CROSS(38,关注) AND 关注&lt;REF(关注,1),18,’倾买’),COLORRED;<br>JS:&#x3D;LAST(关注&gt;0.618,3,1) AND (COUNT(CROSS(0.618,关注) OR CROSS(62,关注),21)&gt;&#x3D;2);<br>STICKLINE(FILTER(JS,13),15,0,4,0),COLORRED;<br>DRAWTEXT(FILTER(JS,13),15,’←★★★牛’),COLORRED;</font></p>
<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E9%A1%B6%E5%BA%95%E4%B8%89%E5%90%88%E4%B8%80-2.png"> </p>
<p><mark style="background-color: #ee781f">指标仅供参考，不作投资依据。</mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>副图</tag>
      </tags>
  </entry>
  <entry>
    <title>龙凤呈祥主图及选股</title>
    <url>/posts/61869/</url>
    <content><![CDATA[<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E9%BE%99%E5%87%A4%E5%91%88%E7%A5%A5-1.png"> </p>
<p>这是集合了众多信息的一个主图，图中标注板块，市值，业绩等很多信息，省去了查看F10，同时给出<font color=red>买，跟，冲高卖</font>等信号，看盘还是挺方便的，信号很多，注意使用。<span id="more"></span> </p>
<p><mark><font color=red><strong>主图源码：</strong></font></mark>  </p>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="variable">MA5</span><span class="operator">:</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">5</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORWHITE</span><span class="operator">;</span></span><br><span class="line"><span class="variable">MA18</span><span class="operator">:=</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">18</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">MA13</span><span class="operator">:</span><span class="variable">MA</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">13</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORGREEN</span><span class="operator">,</span><span class="variable">LINETHICK2</span><span class="operator">;</span></span><br><span class="line"><span class="variable">TJ1</span><span class="operator">:=</span><span class="built_in">C</span><span class="operator">=</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">TJ2</span><span class="operator">:=</span><span class="built_in">C</span><span class="operator">=</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="punctuation">(</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">&lt;</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span> <span class="variable">OR</span> <span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">&lt;</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span><span class="punctuation">)</span> <span class="variable">OR</span> <span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&lt;</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span> <span class="variable">OR</span> <span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&lt;</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">OR</span> <span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&lt;</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&lt;</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">TJ3</span><span class="operator">:=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&gt;=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span> <span class="variable">OR</span> <span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">&lt;=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">&lt;</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="built_in">C</span><span class="operator">&gt;=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">A</span><span class="operator">:=</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">*</span><span class="built_in">C</span><span class="operator">+</span><span class="variable">L</span><span class="operator">+</span><span class="built_in">O</span><span class="operator">+</span><span class="variable">H</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">6</span><span class="operator">;</span></span><br><span class="line"><span class="variable">TJ4</span><span class="operator">:=</span><span class="punctuation">(</span><span class="number">20</span><span class="operator">*</span><span class="variable">A</span><span class="operator">+</span><span class="number">19</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">18</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">17</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">16</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">4</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">15</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">5</span><span class="punctuation">)</span><span class="operator">+</span></span><br><span class="line"><span class="number">14</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">13</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">7</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">12</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">8</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">11</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">9</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">10</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">10</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">9</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">11</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">8</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">12</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span><span class="number">7</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">13</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">6</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">14</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">5</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">15</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">4</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">16</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">3</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">17</span><span class="punctuation">)</span><span class="operator">+</span><span class="number">2</span><span class="operator">*</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">18</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">A</span><span class="operator">,</span><span class="number">20</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">210</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DC</span><span class="operator">:=</span><span class="built_in">C</span><span class="operator">-</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DX</span><span class="operator">:=</span><span class="number">100</span><span class="operator">*</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="variable">DC</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="variable">ABS</span><span class="punctuation">(</span><span class="variable">DC</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">6</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DE</span><span class="operator">:=</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="variable">TJ4</span><span class="operator">,</span><span class="number">13</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="punctuation">&#123;</span>红<span class="punctuation">&#125;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">&gt;=</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="number">3</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR0000FF</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">&gt;=</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="number">0.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORCC66FF</span><span class="operator">;</span></span><br><span class="line"><span class="punctuation">&#123;</span>蓝<span class="punctuation">&#125;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">&lt;</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="number">3</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORFF9900</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">&lt;</span><span class="built_in">O</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="number">0.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORFFCC00</span><span class="operator">;</span></span><br><span class="line"><span class="punctuation">&#123;</span>粉<span class="punctuation">&#125;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">TJ1</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="punctuation">(</span><span class="built_in">O</span><span class="operator">+</span><span class="built_in">C</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">2</span><span class="operator">,</span><span class="number">3</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORFF11FF</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">TJ1</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="punctuation">(</span><span class="built_in">O</span><span class="operator">+</span><span class="built_in">C</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">2</span><span class="operator">,</span><span class="number">0.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORFFDDFF</span><span class="operator">;</span></span><br><span class="line"><span class="punctuation">&#123;</span>灰<span class="punctuation">&#125;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">TJ2</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="punctuation">(</span><span class="built_in">O</span><span class="operator">+</span><span class="built_in">C</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">2</span><span class="operator">,</span><span class="number">3</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR999999</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">TJ2</span><span class="operator">,</span><span class="built_in">C</span><span class="operator">,</span><span class="punctuation">(</span><span class="built_in">O</span><span class="operator">+</span><span class="built_in">C</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">2</span><span class="operator">,</span><span class="number">0.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORFFBBFF</span><span class="operator">;</span></span><br><span class="line"><span class="punctuation">&#123;</span>绿<span class="punctuation">&#125;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">TJ3</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="punctuation">(</span><span class="built_in">O</span><span class="operator">+</span><span class="built_in">C</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">2</span><span class="operator">,</span><span class="number">3</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR00BB00</span><span class="operator">;</span></span><br><span class="line"><span class="variable">STICKLINE</span><span class="punctuation">(</span><span class="variable">TJ3</span><span class="operator">,</span><span class="built_in">O</span><span class="operator">,</span><span class="punctuation">(</span><span class="built_in">O</span><span class="operator">+</span><span class="built_in">C</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">2</span><span class="operator">,</span><span class="number">0.5</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLOR00FF00</span><span class="operator">;</span></span><br><span class="line">卖<span class="operator">:=</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">DX</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="variable">DX</span><span class="operator">,</span><span class="number">7</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">COUNT</span><span class="punctuation">(</span><span class="variable">DX</span><span class="operator">&gt;</span><span class="number">50</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">CROSS</span><span class="punctuation">(</span><span class="variable">MA</span><span class="punctuation">(</span><span class="variable">DX</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">DX</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">FILTER</span><span class="punctuation">(</span>卖<span class="operator">=</span><span class="number">1</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">H</span><span class="operator">*</span><span class="number">1.02</span><span class="operator">,&#x27;</span>冲高卖<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORGREEN</span><span class="operator">;</span></span><br><span class="line">买<span class="operator">:=</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">DX</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">=</span><span class="variable">LLV</span><span class="punctuation">(</span><span class="variable">DX</span><span class="operator">,</span><span class="number">7</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">COUNT</span><span class="punctuation">(</span><span class="variable">DX</span><span class="operator">&lt;</span><span class="number">0</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">CROSS</span><span class="punctuation">(</span><span class="variable">DX</span><span class="operator">,</span><span class="variable">MA</span><span class="punctuation">(</span><span class="variable">DX</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">FILTER</span><span class="punctuation">(</span>买<span class="operator">=</span><span class="number">1</span><span class="operator">,</span><span class="number">5</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">L</span><span class="operator">-</span><span class="number">0.03</span><span class="operator">,&#x27;</span>买<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORRED</span><span class="operator">;</span></span><br><span class="line">加仓<span class="operator">:=</span><span class="variable">SMA</span><span class="punctuation">(</span><span class="variable">EMA</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">-</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">REF</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">5</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="operator">,</span><span class="number">3</span><span class="operator">,</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">10</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span><span class="variable">FILTER</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="variable">CROSS</span><span class="punctuation">(</span>加仓<span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span> <span class="variable">OR</span> <span class="variable">CROSS</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">,</span><span class="variable">DE</span><span class="punctuation">)</span><span class="punctuation">)</span> <span class="variable">AND</span> 买<span class="operator">=</span><span class="number">1</span><span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">L</span><span class="operator">-</span><span class="number">0.03</span><span class="operator">,&#x27;&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORWHITE</span><span class="operator">;</span></span><br><span class="line">跟<span class="operator">:=</span><span class="variable">MA18</span><span class="operator">&gt;=</span><span class="variable">REF</span><span class="punctuation">(</span><span class="variable">MA18</span><span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span> <span class="variable">AND</span> <span class="variable">CROSS</span><span class="punctuation">(</span><span class="variable">CLOSE</span><span class="operator">,</span><span class="variable">MA18</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="variable">DRAWTEXT</span><span class="punctuation">(</span>跟<span class="operator">,</span><span class="variable">L</span><span class="operator">*</span><span class="number">0.96</span><span class="operator">,&#x27;</span>跟<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORCC66FF</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">&gt;</span><span class="built_in">O</span><span class="operator">,</span><span class="number">0.01</span><span class="operator">,</span><span class="number">1.0</span><span class="operator">,</span><span class="number">0</span><span class="operator">,&#x27;</span><span class="variable">SGZBK</span><span class="operator">.</span><span class="variable">TOP</span><span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORWHITE</span><span class="operator">;</span></span><br><span class="line">所属板块<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span>【所属板块】<span class="operator">&#x27;,</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> <span class="punctuation">[</span>行业<span class="punctuation">]</span>—<span class="operator">&#x27;,</span><span class="variable">HYBLOCK</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> <span class="punctuation">[</span>地域<span class="punctuation">]</span>—<span class="operator">&#x27;,</span><span class="variable">DYBLOCK</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> <span class="punctuation">[</span>概念<span class="punctuation">]</span>—<span class="operator">&#x27;,</span><span class="variable">GNBLOCK</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">总股本<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 总股本<span class="operator">:&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="variable">TOTALCAPITAL</span><span class="operator">/</span><span class="number">1000000</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,&#x27;</span>亿<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">流通盘<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 流通盘<span class="operator">:&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="variable">CAPITAL</span><span class="operator">/</span><span class="number">1000000</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,&#x27;</span>亿<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">全流通<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 流通比<span class="operator">:&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="variable">CAPITAL</span><span class="operator">/</span><span class="variable">TOTALCAPITAL</span><span class="operator">*</span><span class="number">100</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,&#x27;</span>％<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">市值<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 流通市值<span class="operator">:&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="variable">CAPITAL</span><span class="operator">/</span><span class="number">1000000</span><span class="punctuation">)</span><span class="operator">*</span><span class="built_in">C</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,&#x27;</span>亿<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">上市日期<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 上市日期<span class="operator">:</span> <span class="operator">&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="variable">HHV</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="variable">BARSCOUNT</span><span class="punctuation">(</span><span class="built_in">C</span><span class="punctuation">)</span><span class="operator">=</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">*</span><span class="punctuation">(</span><span class="variable">DATE</span><span class="operator">+</span><span class="number">19000000</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">0</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">股本市值<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span>【股本市值】<span class="operator">&#x27;,</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span>总股本<span class="operator">,</span>流通盘<span class="punctuation">)</span><span class="operator">,</span>全流通<span class="punctuation">)</span><span class="operator">,</span>市值<span class="punctuation">)</span><span class="operator">,</span>上市日期<span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">市盈率<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 市盈率<span class="operator">:&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">33</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">市销率<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 市销率<span class="operator">:&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">/</span><span class="punctuation">(</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">20</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">市净率<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 市净率<span class="operator">:&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">34</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">净资收益率<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 净资收益率<span class="operator">:&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">33</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">34</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">毛利率<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 毛利率<span class="operator">:&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">20</span><span class="punctuation">)</span><span class="operator">-</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">21</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">20</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">净利润率<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 净利率<span class="operator">:&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">30</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">20</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">主营利润率<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 主营利润率<span class="operator">:&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">23</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">20</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">当前业绩<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span>【当前业绩】<span class="operator">&#x27;,</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span>市盈率<span class="operator">,</span>市销率<span class="punctuation">)</span><span class="operator">,</span>市净率<span class="punctuation">)</span><span class="operator">,</span>净资收益率<span class="punctuation">)</span><span class="operator">,</span>毛利率<span class="punctuation">)</span><span class="operator">,</span>净利润率<span class="punctuation">)</span><span class="operator">,</span>主营利润率<span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span><span class="punctuation">(</span><span class="variable">ISLASTBAR</span><span class="operator">,</span><span class="number">0.005</span><span class="operator">,</span><span class="number">0.02</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span>所属板块<span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORMAGENTA</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span><span class="punctuation">(</span><span class="variable">ISLASTBAR</span><span class="operator">,</span><span class="number">0.005</span><span class="operator">,</span><span class="number">0.07</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span>股本市值<span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORMAGENTA</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span><span class="punctuation">(</span><span class="variable">ISLASTBAR</span><span class="operator">,</span><span class="number">0.005</span><span class="operator">,</span><span class="number">0.12</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span>当前业绩<span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORMAGENTA</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">0.005</span><span class="operator">,</span><span class="number">0.17</span><span class="operator">,</span><span class="number">0</span><span class="operator">,&#x27;</span>莸利比例：<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWNUMBER_FIX</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">0.06</span><span class="operator">,</span><span class="number">0.17</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="variable">CONST</span><span class="punctuation">(</span><span class="variable">WINNER</span><span class="punctuation">(</span><span class="built_in">C</span> <span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWNUMBER_FIX</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">0.15</span><span class="operator">,</span><span class="number">0.17</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="variable">CONST</span><span class="punctuation">(</span><span class="variable">DYNAINFO</span><span class="punctuation">(</span><span class="number">37</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span> <span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">0.12</span><span class="operator">,</span><span class="number">0.17</span><span class="operator">,</span><span class="number">0</span><span class="operator">,&#x27;</span>换手<span class="operator">:&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWNUMBER_FIX</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">0.25</span><span class="operator">,</span><span class="number">0.17</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="variable">CONST</span><span class="punctuation">(</span><span class="variable">DYNAINFO</span><span class="punctuation">(</span><span class="number">17</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span> <span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">0.22</span><span class="operator">,</span><span class="number">0.17</span><span class="operator">,</span><span class="number">0</span><span class="operator">,&#x27;</span>量比<span class="operator">:&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span> <span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">0.30</span><span class="operator">,</span><span class="number">0.17</span><span class="operator">,</span><span class="number">0</span><span class="operator">,&#x27;</span>涨幅<span class="operator">:&#x27;</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWNUMBER_FIX</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">0.33</span><span class="operator">,</span><span class="number">0.17</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="variable">CONST</span><span class="punctuation">(</span><span class="variable">DYNAINFO</span><span class="punctuation">(</span><span class="number">14</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWNUMBER_FIX</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">,</span><span class="number">0.33</span><span class="operator">,</span><span class="number">0.17</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="variable">IF</span><span class="punctuation">(</span><span class="variable">CONST</span><span class="punctuation">(</span><span class="variable">DYNAINFO</span><span class="punctuation">(</span><span class="number">14</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="punctuation">)</span><span class="operator">&lt;</span><span class="number">0</span><span class="operator">,</span><span class="variable">CONST</span><span class="punctuation">(</span><span class="variable">DYNAINFO</span><span class="punctuation">(</span><span class="number">14</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">100</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">DRAWNULL</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORYELLOW</span><span class="operator">;</span></span><br><span class="line"><span class="variable">X1</span><span class="operator">:=</span><span class="punctuation">(</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">11</span><span class="punctuation">)</span><span class="operator">-</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">15</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">10</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">1.2</span><span class="operator">;</span></span><br><span class="line"><span class="variable">X2</span><span class="operator">:=</span><span class="punctuation">(</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">31</span><span class="punctuation">)</span><span class="operator">+</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">17</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">10</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">1.4</span><span class="operator">;</span><span class="punctuation">&#123;</span>盈余公积用资本公积金代替<span class="punctuation">&#125;</span><span class="operator">;</span></span><br><span class="line"><span class="variable">X3</span><span class="operator">:=</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">23</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">10</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">3.3</span><span class="operator">;</span></span><br><span class="line"><span class="variable">X4</span><span class="operator">:=</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">19</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">15</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">0.6</span><span class="operator">;</span><span class="punctuation">&#123;</span>缺长期负债或负债总额<span class="punctuation">&#125;</span></span><br><span class="line"><span class="variable">X5</span><span class="operator">:=</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">20</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">15</span><span class="punctuation">)</span><span class="operator">*</span><span class="number">0.999</span><span class="operator">;</span></span><br><span class="line"><span class="variable">Z</span>值<span class="operator">:=</span><span class="variable">X1</span><span class="operator">+</span><span class="variable">X2</span><span class="operator">+</span><span class="variable">X3</span><span class="operator">+</span><span class="variable">X4</span><span class="operator">+</span><span class="variable">X5</span><span class="operator">;</span></span><br><span class="line">预警<span class="operator">:=</span><span class="variable">IF</span><span class="punctuation">(</span><span class="variable">Z</span>值<span class="operator">&lt;</span><span class="number">1.2</span><span class="operator">,&#x27;</span>重警<span class="operator">&#x27;,</span><span class="variable">IF</span><span class="punctuation">(</span><span class="variable">Z</span>值<span class="operator">&gt;=</span><span class="number">1.2</span> <span class="variable">AND</span> <span class="variable">Z</span>值<span class="operator">&lt;</span><span class="number">2.6</span><span class="operator">,&#x27;</span>轻警<span class="operator">&#x27;,&#x27;</span>无警<span class="operator">&#x27;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">财务预警<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span>财务预警<span class="operator">:</span> <span class="operator">&#x27;,</span><span class="variable">STRCAT</span><span class="punctuation">(</span>预警<span class="operator">,</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;-</span><span class="variable">Z</span>值<span class="operator">:</span> <span class="operator">&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="variable">Z</span>值<span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line">优质资产率<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 优质资产率<span class="operator">:</span> <span class="operator">&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">19</span><span class="punctuation">)</span><span class="operator">-</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">22</span><span class="punctuation">)</span><span class="operator">-</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">27</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">19</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span><span class="punctuation">&#123;</span>理论上越大越好但不同行业有不同标准<span class="punctuation">&#125;</span><span class="operator">;</span></span><br><span class="line">现金负债比<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span> 现金负债比<span class="operator">:</span> <span class="operator">&#x27;,</span><span class="variable">CON2STR</span><span class="punctuation">(</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">25</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">FINANCE</span><span class="punctuation">(</span><span class="number">15</span><span class="punctuation">)</span><span class="operator">,</span><span class="number">3</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span><span class="punctuation">&#123;</span>缺长期负债或负债总额，理论上越大越好但不同行业有不同标准<span class="punctuation">&#125;</span><span class="operator">;</span></span><br><span class="line">财务系数<span class="operator">:=</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="operator">&#x27;</span>风险系数<span class="operator">:</span> <span class="operator">&#x27;,</span><span class="variable">STRCAT</span><span class="punctuation">(</span><span class="variable">STRCAT</span><span class="punctuation">(</span>财务预警<span class="operator">,</span>优质资产率<span class="punctuation">)</span><span class="operator">,</span>现金负债比<span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">;</span></span><br><span class="line"><span class="type">DRAWTEXT_FIX</span><span class="punctuation">(</span><span class="variable">ISLASTBAR</span><span class="operator">,</span><span class="number">0.005</span><span class="operator">,</span><span class="number">0.23</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span>财务系数<span class="punctuation">)</span><span class="operator">,</span><span class="variable">COLORGREEN</span><span class="operator">;</span></span><br></pre></td></tr></table></figure>

<p><mark><font color=red><strong>“买”副图及选股：</strong></font></mark>  </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">DC:=<span class="built_in">C-REF</span>(C,<span class="number">1</span>);</span><br><span class="line">DX:=<span class="number">100</span>*<span class="built_in">EMA</span>(<span class="built_in">EMA</span>(DC,<span class="number">6</span>),<span class="number">6</span>)/<span class="built_in">EMA</span>(<span class="built_in">EMA</span>(<span class="built_in">ABS</span>(DC),<span class="number">6</span>),<span class="number">6</span>);</span><br><span class="line">买:<span class="built_in">LLV</span>(DX,<span class="number">2</span>)=<span class="built_in">LLV</span>(DX,<span class="number">7</span>) AND <span class="built_in">COUNT</span>(DX&lt;<span class="number">0</span>,<span class="number">2</span>) AND <span class="built_in">CROSS</span>(DX,<span class="built_in">MA</span>(DX,<span class="number">2</span>));  </span><br></pre></td></tr></table></figure>
<p><mark><font color=red><strong>“跟”副图及选股：</strong></font></mark>  </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">MA18:=<span class="built_in">MA</span>(C,<span class="number">18</span>);</span><br><span class="line">跟:MA18&gt;=<span class="built_in">REF</span>(MA18,<span class="number">3</span>) AND <span class="built_in">CROSS</span>(C,MA18);  </span><br></pre></td></tr></table></figure>

<p><img src="https://shuigeblog.oss-cn-shenzhen.aliyuncs.com/%E9%BE%99%E5%87%A4%E5%91%88%E7%A5%A5-2.png">  </p>
<p><mark style="background-color: #ff0a5"><font color=red>指标仅供参考，不作投资依据。</font></mark></p>
]]></content>
      <categories>
        <category>公式</category>
      </categories>
      <tags>
        <tag>主图 副图 选股</tag>
      </tags>
  </entry>
</search>
